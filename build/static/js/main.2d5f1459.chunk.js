(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/logo-gray.ae7bcf5b.jpg"},131:function(e,t,a){e.exports=a(244)},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},199:function(e,t,a){},213:function(e,t){},215:function(e,t){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},238:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"default",function(){return Xt});var r,c,i,o,s,l,u,d=a(0),m=a.n(d),p=a(30),h=a(19),f=a(51),b=a(4),g=a(10),O=a(127),E=a(115),v=a.n(E),j=a(247),C=a(16),y=a.n(C),_=a(7),k=a(249),x=a(248),A=Object(x.a)({LOGIN:function(e,t){return{username:e,password:t}},LOGIN_FAILED:function(e){return{error:e}},LOGIN_SUCCEED:function(e){return{token:e}},GET_STORED_USER:function(){return{}},GET_USER_FROM_API:function(){return{}},GET_USER_FROM_API_FAILED:function(e){return{error:e}},GET_USER_FROM_API_SUCCEED:function(e){return{user:e}},LOGOUT:function(){return{}}}),S=A.login,w=A.loginFailed,T=A.loginSucceed,D=A.getStoredUser,I=A.getUserFromApi,N=A.getUserFromApiFailed,M=A.getUserFromApiSucceed,R=A.logout,U=Object(k.a)((r={},Object(_.a)(r,S,function(e){return Object(b.a)({},e,{error:null,loading:!0})}),Object(_.a)(r,w,function(e,t){var a=t.payload.error;return Object(b.a)({},e,a,{currentUser:null,loading:!1})}),Object(_.a)(r,T,function(e,t){var a=t.payload.token;return function(e){localStorage.setItem("token",JSON.stringify(e))}(a),Object(b.a)({},e,{token:a,error:null,loading:!1})}),Object(_.a)(r,D,function(e){return Object(b.a)({},e,{currentUser:JSON.parse(localStorage.getItem("currentUser")),token:JSON.parse(localStorage.getItem("token"))})}),Object(_.a)(r,I,function(e){return Object(b.a)({},e,{error:null,loading:!0})}),Object(_.a)(r,N,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(r,M,function(e,t){var a,n=t.payload.user;return a=n,localStorage.setItem("currentUser",JSON.stringify(a)),Object(b.a)({},e,{error:null,loading:!1,currentUser:n})}),Object(_.a)(r,R,function(e){return console.error("logout dispatched reducer"),localStorage.removeItem("token"),localStorage.removeItem("currentUser"),Object(b.a)({},e,{currentUser:null})}),r),{currentUser:null,error:null,loading:!1,token:{token_type:null,expires_in:null,access_token:null,refresh_token:null}}),L=Object(x.a)({GET_CITIES:function(e){return{params:e}},GET_CITIES_SUCCEED:function(e){return{cities:e}},GET_CITIES_FAILED:function(e){return{error:e}},DELETE_CITY:function(e){return{id:e}},DELETE_CITY_SUCCEED:function(){return{}},DELETE_CITY_FAILED:function(e){return{error:e}},UPDATE_CITY:function(e,t){return{id:e,city:t,params:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}},UPDATE_CITY_SUCCEED:function(){return{}},UPDATE_CITY_FAILED:function(e){return{error:e}},ADD_CITY:function(e){return{city:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_CITY_SUCCEED:function(){return{}},ADD_CITY_FAILED:function(e){return{error:e}},ADD_CITIES:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_CITIES_SUCCEED:function(){return{}},ADD_CITIES_FAILED:function(e){return{error:e}},GET_CITY:function(e){return{id:e}},GET_CITY_SUCCEED:function(e){return{city:e}},GET_CITY_FAILED:function(e){return{error:e}},UPDATE_CURRENT_CITY:function(e){return{city:e}}}),F=L.getCities,P=L.getCitiesSucceed,V=L.getCitiesFailed,G=L.deleteCity,Y=L.deleteCitySucceed,B=L.deleteCityFailed,W=L.updateCity,H=L.updateCitySucceed,q=L.updateCityFailed,z=L.addCity,K=L.addCitySucceed,Q=L.addCityFailed,J=L.addCities,X=L.addCitiesSucceed,$=L.addCitiesFailed,Z=L.getCity,ee=L.getCitySucceed,te=L.getCityFailed,ae=L.updateCurrentCity,ne=Object(k.a)((c={},Object(_.a)(c,F,function(e){return Object(b.a)({},e,{error:null,loading:!0,message:"Generating cities listing..."})}),Object(_.a)(c,V,function(e,t){var a=t.payload;return console.log("error here"),console.log(a),Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(c,P,function(e,t){var a=t.payload.cities;return Object(b.a)({},e,{loading:!1,cities:a})}),Object(_.a)(c,z,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding City..."})}),Object(_.a)(c,K,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"City added successfully"})}),Object(_.a)(c,Q,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(c,J,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Cities..."})}),Object(_.a)(c,X,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Cities updated successfully"})}),Object(_.a)(c,$,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(c,G,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Deleting City..."})}),Object(_.a)(c,Y,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"City deleted successfully"})}),Object(_.a)(c,B,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(c,W,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Updating city..."})}),Object(_.a)(c,H,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"City updated successfully"})}),Object(_.a)(c,q,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(c,Z,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Getting city info..."})}),Object(_.a)(c,ee,function(e,t){var a=t.payload.city;return Object(b.a)({},e,{loading:!1,message:"",currentCity:a})}),Object(_.a)(c,te,function(e,t){t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,message:"Getting city info failed",currentCity:null})}),Object(_.a)(c,ae,function(e,t){var a=t.payload.city;return Object(b.a)({},e,{currentCity:a})}),c),{cities:null,error:null,loading:!1,message:"",success:!1,currentCity:null}),re=Object(x.a)({GET_CATEGORIES:function(e){return{params:e}},GET_CATEGORIES_SUCCEED:function(e){return{categories:e}},GET_CATEGORIES_FAILED:function(e){return{error:e}},DELETE_CATEGORY:function(e){return{id:e}},DELETE_CATEGORY_SUCCEED:function(){return{}},DELETE_CATEGORY_FAILED:function(e){return{error:e}},UPDATE_CATEGORY:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:e,category:t,updateCategory:de}},UPDATE_CATEGORY_SUCCEED:function(){return{}},UPDATE_CATEGORY_FAILED:function(e){return{error:e}},ADD_CATEGORY:function(e){return{category:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_CATEGORY_SUCCEED:function(){return{}},ADD_CATEGORY_FAILED:function(e){return{error:e}},ADD_CATEGORIES:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_CATEGORIES_SUCCEED:function(){return{}},ADD_CATEGORIES_FAILED:function(e){return{error:e}},GET_CATEGORY:function(e){return{id:e}},GET_CATEGORY_SUCCEED:function(e){return{category:e}},GET_CATEGORY_FAILED:function(e){return{error:e}},UPDATE_CURRENT_CATEGORY:function(e){return{category:e}}}),ce=re.getCategories,ie=re.getCategoriesSucceed,oe=re.getCategoriesFailed,se=re.deleteCategory,le=re.deleteCategorySucceed,ue=re.deleteCategoryFailed,de=re.updateCategory,me=re.updateCategorySucceed,pe=re.updateCategoryFailed,he=re.addCategory,fe=re.addCategorySucceed,be=re.addCategoryFailed,ge=re.addCategories,Oe=re.addCategoriesSucceed,Ee=re.addCategoriesFailed,ve=re.getCategory,je=re.getCategorySucceed,Ce=re.getCategoryFailed,ye=re.updateCurrentCategory,_e=Object(k.a)((i={},Object(_.a)(i,ce,function(e){return Object(b.a)({},e,{error:null,loading:!0,message:"Generating category lists..."})}),Object(_.a)(i,oe,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(i,ie,function(e,t){var a=t.payload.categories;return Object(b.a)({},e,{loading:!1,categories:a})}),Object(_.a)(i,he,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Category...",error:null})}),Object(_.a)(i,fe,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Category added successfully",error:null})}),Object(_.a)(i,be,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(i,se,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Deleting Category...",error:null})}),Object(_.a)(i,le,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Category deleted successfully"})}),Object(_.a)(i,ue,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(i,de,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Updating category...",error:null})}),Object(_.a)(i,me,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Category updated successfully"})}),Object(_.a)(i,pe,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(i,ge,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Categories..."})}),Object(_.a)(i,Oe,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Categories updated successfully"})}),Object(_.a)(i,Ee,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(i,ve,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Getting category info...",error:null})}),Object(_.a)(i,je,function(e,t){var a=t.payload.category;return Object(b.a)({},e,{loading:!1,message:"",currentCategory:a})}),Object(_.a)(i,Ce,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,message:"Getting category info failed",error:a,currentCategory:null})}),Object(_.a)(i,ye,function(e,t){var a=t.payload.category;return Object(b.a)({},e,{currentCategory:a})}),i),{categories:null,error:null,loading:!1,message:"",success:!1,currentCategory:null}),ke=Object(x.a)({GET_RESTAURANTS:function(e){return{params:e}},GET_RESTAURANTS_SUCCEED:function(e){return{restaurants:e}},GET_RESTAURANTS_FAILED:function(e){return{error:e}},DELETE_RESTAURANT:function(e){return{id:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},DELETE_RESTAURANT_SUCCEED:function(){return{}},DELETE_RESTAURANT_FAILED:function(e){return{error:e}},UPDATE_RESTAURANT:function(e,t){return{id:e,restaurant:t,params:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}},UPDATE_RESTAURANT_SUCCEED:function(){return{}},UPDATE_RESTAURANT_FAILED:function(e){return{error:e}},ADD_RESTAURANT:function(e){return{restaurant:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_RESTAURANT_SUCCEED:function(){return{}},ADD_RESTAURANT_FAILED:function(e){return{error:e}},ADD_RESTAURANTS:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_RESTAURANTS_SUCCEED:function(){return{}},ADD_RESTAURANTS_FAILED:function(e){return{error:e}},GET_RESTAURANT:function(e){return{id:e}},GET_RESTAURANT_SUCCEED:function(e){return{restaurant:e}},GET_RESTAURANT_FAILED:function(e){return{error:e}},UPDATE_CURRENT_RESTAURANT:function(e){return{restaurant:e}}}),xe=ke.getRestaurants,Ae=ke.getRestaurantsSucceed,Se=ke.getRestaurantsFailed,we=ke.deleteRestaurant,Te=ke.deleteRestaurantSucceed,De=ke.deleteRestaurantFailed,Ie=ke.updateRestaurant,Ne=ke.updateRestaurantSucceed,Me=ke.updateRestaurantFailed,Re=ke.addRestaurant,Ue=ke.addRestaurantSucceed,Le=ke.addRestaurantFailed,Fe=ke.addRestaurants,Pe=ke.addRestaurantsSucceed,Ve=ke.addRestaurantsFailed,Ge=ke.getRestaurant,Ye=ke.getRestaurantSucceed,Be=ke.getRestaurantFailed,We=ke.updateCurrentRestaurant,He=Object(k.a)((o={},Object(_.a)(o,xe,function(e){return Object(b.a)({},e,{error:null,loading:!0,message:"Generating restaurant lists..."})}),Object(_.a)(o,Ae,function(e,t){var a=t.payload.restaurants;return Object(b.a)({},e,{loading:!1,restaurants:a})}),Object(_.a)(o,Se,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(o,Re,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding restaurant...",error:null})}),Object(_.a)(o,Ue,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Restaurant added successfully"})}),Object(_.a)(o,Le,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(o,Fe,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Restaurants..."})}),Object(_.a)(o,Pe,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Restaurants updated successfully"})}),Object(_.a)(o,Ve,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(o,we,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Deleting restaurant...",error:null})}),Object(_.a)(o,Te,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Restaurant deleted successfully"})}),Object(_.a)(o,De,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(o,Ie,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Updating restaurant...",error:null})}),Object(_.a)(o,Ne,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Restaurant updated successfully"})}),Object(_.a)(o,Me,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(o,Ge,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Getting restaurant info...",error:null})}),Object(_.a)(o,Ye,function(e,t){var a=t.payload.restaurant;return Object(b.a)({},e,{loading:!1,message:"",currentRestaurant:a})}),Object(_.a)(o,Se,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,message:"Getting restaurant info failed",error:a,currentRestaurant:null})}),Object(_.a)(o,We,function(e,t){var a=t.payload.restaurant;return Object(b.a)({},e,{currentRestaurant:a})}),o),{restaurants:null,error:null,loading:!1,messages:"",success:!1,currentRestaurant:null}),qe=Object(x.a)({GET_MENUS:function(e){return{params:e}},GET_MENUS_SUCCEED:function(e){return{menus:e}},GET_MENUS_FAILED:function(e){return{error:e}},DELETE_MENU:function(e){return{id:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},DELETE_MENU_SUCCEED:function(){return{}},DELETE_MENU_FAILED:function(e){return{error:e}},UPDATE_MENU:function(e,t){return{id:e,menu:t,params:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}},UPDATE_MENU_SUCCEED:function(){return{}},UPDATE_MENU_FAILED:function(e){return{error:e}},ADD_MENU:function(e){return{menu:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_MENU_SUCCEED:function(){return{}},ADD_MENU_FAILED:function(e){return{error:e}},ADD_MENUS:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_MENUS_SUCCEED:function(){return{}},ADD_MENUS_FAILED:function(e){return{error:e}},ADD_MENUS_ITEMS:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_MENUS_ITEMS_SUCCEED:function(){return{}},ADD_MENUS_ITEMS_FAILED:function(e){return{error:e}},GET_MENU:function(e){return{id:e}},GET_MENU_SUCCEED:function(e){return{menu:e}},GET_MENU_FAILED:function(e){return{error:e}},UPDATE_CURRENT_MENU:function(e){return{menu:e}}}),ze=qe.getMenus,Ke=qe.getMenusSucceed,Qe=qe.getMenusFailed,Je=qe.deleteMenu,Xe=qe.deleteMenuSucceed,$e=qe.deleteMenuFailed,Ze=qe.updateMenu,et=qe.updateMenuSucceed,tt=qe.updateMenuFailed,at=qe.addMenu,nt=qe.addMenuSucceed,rt=qe.addMenuFailed,ct=qe.addMenus,it=qe.addMenusSucceed,ot=qe.addMenusFailed,st=qe.addMenusItems,lt=qe.addMenusItemsSucceed,ut=qe.addMenusItemsFailed,dt=qe.getMenu,mt=qe.getMenuSucceed,pt=qe.getMenuFailed,ht=qe.updateCurrentMenu,ft=Object(k.a)((s={},Object(_.a)(s,ze,function(e){return Object(b.a)({},e,{error:null,loading:!0,message:"Generating menu lists..."})}),Object(_.a)(s,Qe,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(s,Ke,function(e,t){var a=t.payload.menus;return Object(b.a)({},e,{loading:!1,menus:a})}),Object(_.a)(s,at,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Menu...",error:null})}),Object(_.a)(s,nt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Menu added successfully"})}),Object(_.a)(s,rt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(s,ct,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Menus..."})}),Object(_.a)(s,it,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Menus updated successfully"})}),Object(_.a)(s,ot,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(s,st,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding Menus and Items..."})}),Object(_.a)(s,lt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Menus and Items updated successfully"})}),Object(_.a)(s,ut,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,error:a,success:!1})}),Object(_.a)(s,Je,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Delete menu...",error:null})}),Object(_.a)(s,Xe,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Menu deleted successfully"})}),Object(_.a)(s,$e,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(s,Ze,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Updating menu...",error:null})}),Object(_.a)(s,et,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Menu updated successfully"})}),Object(_.a)(s,tt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(s,dt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Getting menu info...",error:null})}),Object(_.a)(s,mt,function(e,t){var a=t.payload.menu;return Object(b.a)({},e,{loading:!1,message:"",currentMenu:a})}),Object(_.a)(s,pt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,message:"Getting menu info failed",error:a,currentMenu:null})}),Object(_.a)(s,ht,function(e,t){var a=t.payload.menu;return Object(b.a)({},e,{currentMenu:a})}),s),{menus:null,error:null,loading:!1,message:"",success:!1,currentMenu:null}),bt=Object(x.a)({GET_ITEMS:function(e){return{params:e}},GET_ITEMS_SUCCEED:function(e){return{items:e}},GET_ITEMS_FAILED:function(e){return{error:e}},DELETE_ITEM:function(e){return{id:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},DELETE_ITEM_SUCCEED:function(){return{}},DELETE_ITEM_FAILED:function(e){return{error:e}},DELETE_ITEM_1:function(e){return{id:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},DELETE_ITEM_1_SUCCEED:function(){return{}},DELETE_ITEM_1_FAILED:function(e){return{error:e}},UPDATE_ITEM:function(e){var t=e.id,a=e.item,n=e.params;return{id:t,item:a,params:void 0===n?null:n}},UPDATE_ITEM_SUCCEED:function(){return{}},UPDATE_ITEM_FAILED:function(e){return{error:e}},ADD_ITEM:function(e){return{item:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_ITEM_SUCCEED:function(){return{}},ADD_ITEM_FAILED:function(e){return{error:e}},ADD_ITEM_1:function(e){return{item:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_ITEM__1_SUCCEED:function(){return{}},ADD_ITEM_1_FAILED:function(e){return{error:e}},GET_ITEM:function(e){return{id:e}},GET_ITEM_SUCCEED:function(e){return{item:e}},GET_ITEM_FAILED:function(e){return{error:e}},UPDATE_CURRENT_ITEM:function(e){return{item:e}},ADD_ITEMS:function(e){return{items:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_ITEMS_SUCCEED:function(){return{}},ADD_ITEMS_FAILED:function(e){return{error:e}},ADD_ITEMS_1:function(e){return{data:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},ADD_ITEMS_1_SUCCEED:function(){return{}},ADD_ITEMS_1_FAILED:function(e){return{error:e}}}),gt=bt.getItems,Ot=bt.getItemsSucceed,Et=bt.getItemsFailed,vt=bt.deleteItem,jt=bt.deleteItemSucceed,Ct=bt.deleteItemFailed,yt=bt.updateItem,_t=bt.updateItemSucceed,kt=bt.updateItemFailed,xt=bt.deleteItem1,At=bt.deleteItem1Succeed,St=bt.deleteItem1Failed,wt=bt.addItem,Tt=bt.addItemSucceed,Dt=bt.addItemFailed,It=bt.addItem1,Nt=bt.addItem1Succeed,Mt=bt.addItem1Failed,Rt=bt.getItem,Ut=bt.getItemSucceed,Lt=bt.getItemFailed,Ft=bt.updateCurrentItem,Pt=bt.addItems,Vt=bt.addItemsSucceed,Gt=bt.addItemsFailed,Yt=bt.addItems1,Bt=bt.addItems1Succeed,Wt=bt.addItems1Failed,Ht=Object(k.a)((l={},Object(_.a)(l,gt,function(e){return Object(b.a)({},e,{error:null,loading:!0,message:"Generating items list..."})}),Object(_.a)(l,Ot,function(e,t){var a=t.payload.items;return Object(b.a)({},e,{loading:!1,items:a})}),Object(_.a)(l,Et,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{error:a,loading:!1})}),Object(_.a)(l,wt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding item...",error:null})}),Object(_.a)(l,Tt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Item added successfully"})}),Object(_.a)(l,Dt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,It,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding item...",error:null})}),Object(_.a)(l,Nt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Items updated successfully"})}),Object(_.a)(l,Mt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,Pt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Adding items...",error:null})}),Object(_.a)(l,Vt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Items added successfully"})}),Object(_.a)(l,Gt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,Yt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Updaing items...",error:null})}),Object(_.a)(l,Bt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Items updated successfully"})}),Object(_.a)(l,Wt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,vt,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Deleting item...",error:null})}),Object(_.a)(l,jt,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Item deleted successfully"})}),Object(_.a)(l,Ct,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,xt,function(e,t){t.payload.id;return Object(b.a)({},e,{loading:!0,success:!1,message:"Deleting item...",error:null})}),Object(_.a)(l,At,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Item deleted successfully"})}),Object(_.a)(l,St,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,yt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Uploading item...",error:null})}),Object(_.a)(l,_t,function(e){return Object(b.a)({},e,{loading:!1,success:!0,message:"Item updated successfully"})}),Object(_.a)(l,kt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,error:a})}),Object(_.a)(l,Rt,function(e){return Object(b.a)({},e,{loading:!0,success:!1,message:"Getting item info...",error:null})}),Object(_.a)(l,Ut,function(e,t){var a=t.payload.item;return Object(b.a)({},e,{loading:!1,message:"",currentItem:a})}),Object(_.a)(l,Lt,function(e,t){var a=t.payload.error;return Object(b.a)({},e,{loading:!1,success:!1,message:"Getting item info failed",error:a,currentItem:null})}),Object(_.a)(l,Ft,function(e,t){var a=t.payload.item;return Object(b.a)({},e,{currentItem:a})}),l),{items:null,error:null,loading:!1,messages:"",success:!1,currentItem:null}),qt=Object(x.a)({SHOW_MODAL:function(e){return{modalType:e,params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},HIDE_MODAL:function(){return{}}}),zt=qt.showModal,Kt=qt.hideModal,Qt=Object(k.a)((u={},Object(_.a)(u,zt,function(e,t){var a=t.payload,n=a.modalType,r=a.params;return Object(b.a)({},e,{modalType:n,params:r})}),Object(_.a)(u,Kt,function(e){return Object(b.a)({},e,{modalType:null})}),u),{modalType:null,params:null}),Jt=Object(g.c)({auth:U,city:ne,category:_e,restaurant:He,menu:ft,item:Ht}),Xt=Object(g.c)({routing:f.c,services:Jt,modal:Qt}),$t=a(8),Zt=a.n($t),ea=a(5),ta=a(21),aa=a(114),na=a.n(aa),ra={client_secret:"f0GkqXJEWvEGq4BvOfGcRg8LFhIcx3sKTSXFbQ3x",client_id:"2",grant_type:"password"},ca={BASE_URL:"localhost:8000/api",INTEGER_PRECISION:100},ia=a(17),oa=a.n(ia),sa=function(e){return Object(ta.a)(Zt.a.mark(function t(){var a,n=arguments;return Zt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apply(void 0,n);case 2:if(!(a=t.sent)||!a.status||200===a.status||201===a.status||204===a.status){t.next=7;break}throw a;case 7:return t.abrupt("return",a.data);case 8:case"end":return t.stop()}},t)}))},la=function(){var e=null,t=null;wr.getState().default.services.auth.token&&(e=wr.getState().default.services.auth.token.access_token,t=wr.getState().default.services.auth.token.token_type);var a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json",charset:"UTF-8"};e&&(a=Object(b.a)({},a,{Authorization:"".concat(t," ").concat(e)}));var n=na.a.create({baseURL:ca.BASE_URL,headers:a});return n.interceptors.response.use(void 0,function(e){if(e.response&&401===e.response.status&&wr.dispatch(R()),"undefined"===typeof e.response)throw e;if(e.response&&200!==e.response.status)throw e.response}),n},ua=function(e){var t={title:null,message:""};if("object"===typeof e&&null!==e){if(e.data&&e.data.message){t.title=e.data.message;var a=e.data.errors;if(a)for(var n in a)a[n]&&a[n].map(function(e){t.message+=e+"\n"})}}else t.title=e;return t},da=function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=a,n.readAsDataURL(e)})},ma=function(e){var t=oa.a.parse(e.props.location.search);t=Object(b.a)({},t,e.filter);var a=oa.a.stringify(t);e.props.history.push({pathname:e.props.location.pathname,search:"?".concat(a)})},pa=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/oauth/token",Object(b.a)({},ra,{username:t,password:a})));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),ha=sa(Object(ta.a)(Zt.a.mark(function e(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/user"));case 1:case"end":return e.stop()}},e)}))),fa=Zt.a.mark(Oa),ba=Zt.a.mark(Ea),ga=Zt.a.mark(va);function Oa(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("LOGIN",Ea)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("GET_USER_FROM_API",va)]);case 4:case"end":return e.stop()}},fa)}function Ea(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.username,n=t.password,c.prev=1,c.next=4,Object(ea.b)(pa,a,n);case 4:return r=c.sent,c.next=7,Object(ea.c)(T(r));case 7:return c.next=9,Object(ea.c)(I());case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(ea.c)(w(c.t0));case 15:case"end":return c.stop()}},ba,null,[[1,11]])}function va(){var e;return Zt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ea.b)(ha);case 3:return e=t.sent,t.next=6,Object(ea.c)(M(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(ea.c)(N(t.t0));case 12:case"end":return t.stop()}},ga,null,[[0,8]])}var ja=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/cities",{params:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ca=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){var a;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.file){e.next=5;break}return e.next=4,da(t.file);case 4:a=e.sent;case 5:return e.abrupt("return",la().post("/api/cities/",Object(b.a)({},t,{file:a})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ya=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/cities/insertmany",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_a=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().delete("/api/cities/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ka=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){var n;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!a.file){e.next=5;break}return e.next=4,da(a.file);case 4:n=e.sent;case 5:return e.abrupt("return",la().put("/api/cities/".concat(t),Object(b.a)({},a,{file:n})));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),xa=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/cities/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Aa=Zt.a.mark(Ma),Sa=Zt.a.mark(Ra),wa=Zt.a.mark(Ua),Ta=Zt.a.mark(La),Da=Zt.a.mark(Fa),Ia=Zt.a.mark(Pa),Na=Zt.a.mark(Va);function Ma(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("GET_CITIES",Ra)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("ADD_CITY",Ua)]);case 4:return e.next=6,Object(ea.a)([Object(ea.d)("DELETE_CITY",Fa)]);case 6:return e.next=8,Object(ea.a)([Object(ea.d)("UPDATE_CITY",Pa)]);case 8:return e.next=10,Object(ea.a)([Object(ea.d)("GET_CITY",Va)]);case 10:return e.next=12,Object(ea.a)([Object(ea.d)("ADD_CITIES",La)]);case 12:case"end":return e.stop()}},Aa)}function Ra(e){var t,a;return Zt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.params,n.prev=1,n.next=4,Object(ea.b)(ja,t);case 4:return a=n.sent,n.next=7,Object(ea.c)(P(a));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),console.error(n.t0),n.next=14,Object(ea.c)(V(n.t0));case 14:case"end":return n.stop()}},Sa,null,[[1,9]])}function Ua(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.city,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Ca,a);case 4:return r.next=6,Object(ea.c)(K());case 6:return r.next=8,Object(ea.c)(F(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Q(r.t0));case 15:case"end":return r.stop()}},wa,null,[[1,10]])}function La(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(ya,a);case 4:return r.next=6,Object(ea.c)(X());case 6:return r.next=8,Object(ea.c)(F(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)($(r.t0));case 15:case"end":return r.stop()}},Ta,null,[[1,10]])}function Fa(e){var t;return Zt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.id,a.prev=1,a.next=4,Object(ea.b)(_a,t);case 4:return a.next=6,Object(ea.c)(Y());case 6:return a.next=8,Object(ea.c)(F());case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(1),console.error(a.t0),a.next=15,Object(ea.c)(B(a.t0));case 15:case"end":return a.stop()}},Da,null,[[1,10]])}function Pa(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.city,r=t.params,c.prev=1,c.next=4,Object(ea.b)(ka,a,n);case 4:return c.next=6,Object(ea.c)(H());case 6:return c.next=8,Object(ea.c)(F(r));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(1),console.error(c.t0),c.next=15,Object(ea.c)(q(c.t0));case 15:case"end":return c.stop()}},Ia,null,[[1,10]])}function Va(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.id,r.prev=1,r.next=4,Object(ea.b)(xa,t);case 4:return a=r.sent,n=a.data,r.next=8,Object(ea.c)(ee(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(te(r.t0));case 15:case"end":return r.stop()}},Na,null,[[1,10]])}var Ga=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/categories",{params:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ya=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){var a;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.file){e.next=5;break}return e.next=4,da(t.file);case 4:a=e.sent;case 5:return e.abrupt("return",la().post("/api/categories/",Object(b.a)({},t,{file:a})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ba=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/categories/insertmany",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Wa=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().delete("/api/categories/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ha=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){var n;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!a.file){e.next=5;break}return e.next=4,da(a.file);case 4:n=e.sent;case 5:return e.abrupt("return",la().put("/api/categories/".concat(t),Object(b.a)({},a,{file:n})));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),qa=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/categories/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),za=Zt.a.mark(en),Ka=Zt.a.mark(tn),Qa=Zt.a.mark(an),Ja=Zt.a.mark(nn),Xa=Zt.a.mark(rn),$a=Zt.a.mark(cn),Za=Zt.a.mark(on);function en(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("GET_CATEGORIES",tn)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("ADD_CATEGORY",an)]);case 4:return e.next=6,Object(ea.a)([Object(ea.d)("DELETE_CATEGORY",rn)]);case 6:return e.next=8,Object(ea.a)([Object(ea.d)("UPDATE_CATEGORY",cn)]);case 8:return e.next=10,Object(ea.a)([Object(ea.d)("GET_CATEGORY",on)]);case 10:return e.next=12,Object(ea.a)([Object(ea.d)("ADD_CATEGORIES",nn)]);case 12:case"end":return e.stop()}},za)}function tn(e){var t,a;return Zt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.params,n.prev=1,n.next=4,Object(ea.b)(Ga,t);case 4:return a=n.sent,n.next=7,Object(ea.c)(ie(a));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),console.error(n.t0),n.next=14,Object(ea.c)(oe(n.t0));case 14:case"end":return n.stop()}},Ka,null,[[1,9]])}function an(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.category,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Ya,a);case 4:return r.next=6,Object(ea.c)(fe());case 6:return r.next=8,Object(ea.c)(ce(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(be(r.t0));case 15:case"end":return r.stop()}},Qa,null,[[1,10]])}function nn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Ba,a);case 4:return r.next=6,Object(ea.c)(Oe());case 6:return r.next=8,Object(ea.c)(ce(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Ee(r.t0));case 15:case"end":return r.stop()}},Ja,null,[[1,10]])}function rn(e){var t;return Zt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.id,a.prev=1,a.next=4,Object(ea.b)(Wa,t);case 4:return a.next=6,Object(ea.c)(le());case 6:return a.next=8,Object(ea.c)(ce());case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(1),console.error(a.t0),a.next=15,Object(ea.c)(ue(a.t0));case 15:case"end":return a.stop()}},Xa,null,[[1,10]])}function cn(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.category,r=t.params,c.prev=1,c.next=4,Object(ea.b)(Ha,a,n);case 4:return c.next=6,Object(ea.c)(me());case 6:return c.next=8,Object(ea.c)(ce(r));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(1),console.error(c.t0),c.next=15,Object(ea.c)(pe(c.t0));case 15:case"end":return c.stop()}},$a,null,[[1,10]])}function on(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.id,r.prev=1,r.next=4,Object(ea.b)(qa,t);case 4:return a=r.sent,n=a.data,r.next=8,Object(ea.c)(je(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Ce(r.t0));case 15:case"end":return r.stop()}},Za,null,[[1,10]])}var sn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/restaurants",{params:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ln=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){var a;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.file){e.next=5;break}return e.next=4,da(t.file);case 4:a=e.sent;case 5:return e.abrupt("return",la().post("/api/restaurants/",Object(b.a)({},t,{file:a})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),un=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/restaurants/insertmany",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),dn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().delete("/api/restaurants/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),mn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){var n;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!a.file){e.next=5;break}return e.next=4,da(a.file);case 4:n=e.sent;case 5:return e.abrupt("return",la().put("/api/restaurants/".concat(t),Object(b.a)({},a,{file:n})));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),pn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/restaurants/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),hn=Zt.a.mark(jn),fn=Zt.a.mark(Cn),bn=Zt.a.mark(yn),gn=Zt.a.mark(_n),On=Zt.a.mark(kn),En=Zt.a.mark(xn),vn=Zt.a.mark(An);function jn(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("GET_RESTAURANTS",Cn)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("ADD_RESTAURANT",yn)]);case 4:return e.next=6,Object(ea.a)([Object(ea.d)("ADD_RESTAURANTS",_n)]);case 6:return e.next=8,Object(ea.a)([Object(ea.d)("DELETE_RESTAURANT",kn)]);case 8:return e.next=10,Object(ea.a)([Object(ea.d)("UPDATE_RESTAURANT",xn)]);case 10:return e.next=12,Object(ea.a)([Object(ea.d)("GET_RESTAURANT",An)]);case 12:case"end":return e.stop()}},hn)}function Cn(e){var t,a;return Zt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.params,n.prev=1,n.next=4,Object(ea.b)(sn,t);case 4:return a=n.sent,n.next=7,Object(ea.c)(Ae(a));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),console.error(n.t0),n.next=14,Object(ea.c)(Se(n.t0));case 14:case"end":return n.stop()}},fn,null,[[1,9]])}function yn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.restaurant,n=t.params,r.prev=1,r.next=4,Object(ea.b)(ln,a);case 4:return r.next=6,Object(ea.c)(Ue());case 6:return r.next=8,Object(ea.c)(xe(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Le(r.t0));case 15:case"end":return r.stop()}},bn,null,[[1,10]])}function _n(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(un,a);case 4:return r.next=6,Object(ea.c)(Pe());case 6:return r.next=8,Object(ea.c)(xe(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Ve(r.t0));case 15:case"end":return r.stop()}},gn,null,[[1,10]])}function kn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,n=t.params,r.prev=1,r.next=4,Object(ea.b)(dn,a);case 4:return r.next=6,Object(ea.c)(Te());case 6:return r.next=8,Object(ea.c)(xe(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(De(r.t0));case 15:case"end":return r.stop()}},On,null,[[1,10]])}function xn(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.restaurant,r=t.params,c.prev=1,c.next=4,Object(ea.b)(mn,a,n);case 4:return c.next=6,Object(ea.c)(Ne());case 6:return c.next=8,Object(ea.c)(xe(r));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(1),console.error(c.t0),c.next=15,Object(ea.c)(Me(c.t0));case 15:case"end":return c.stop()}},En,null,[[1,10]])}function An(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.id,r.prev=1,r.next=4,Object(ea.b)(pn,t);case 4:return a=r.sent,n=a.data,r.next=8,Object(ea.c)(Ye(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Be(r.t0));case 15:case"end":return r.stop()}},vn,null,[[1,10]])}var Sn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/menus",{params:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),wn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){var a;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.file){e.next=5;break}return e.next=4,da(t.file);case 4:a=e.sent;case 5:return e.abrupt("return",la().post("/api/menus/",Object(b.a)({},t,{file:a})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Tn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/menus/insertmany",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Dn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/menus/insert_menus_items",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),In=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().delete("/api/menus/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Nn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){var n;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),n=null,!a.file){e.next=6;break}return e.next=5,da(a.file);case 5:n=e.sent;case 6:return e.abrupt("return",la().put("/api/menus/".concat(t),Object(b.a)({},a,{file:n})));case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),Mn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/menus/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Rn=Zt.a.mark(Bn),Un=Zt.a.mark(Wn),Ln=Zt.a.mark(Hn),Fn=Zt.a.mark(qn),Pn=Zt.a.mark(zn),Vn=Zt.a.mark(Kn),Gn=Zt.a.mark(Qn),Yn=Zt.a.mark(Jn);function Bn(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("GET_MENUS",Wn)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("ADD_MENU",Hn)]);case 4:return e.next=6,Object(ea.a)([Object(ea.d)("ADD_MENUS",qn)]);case 6:return e.next=8,Object(ea.a)([Object(ea.d)("ADD_MENUS_ITEMS",zn)]);case 8:return e.next=10,Object(ea.a)([Object(ea.d)("DELETE_MENU",Kn)]);case 10:return e.next=12,Object(ea.a)([Object(ea.d)("UPDATE_MENU",Qn)]);case 12:return e.next=14,Object(ea.a)([Object(ea.d)("GET_MENU",Jn)]);case 14:case"end":return e.stop()}},Rn)}function Wn(e){var t,a;return Zt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.params,n.prev=1,n.next=4,Object(ea.b)(Sn,t);case 4:return a=n.sent,n.next=7,Object(ea.c)(Ke(a));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),console.error(n.t0),n.next=14,Object(ea.c)(Qe(n.t0));case 14:case"end":return n.stop()}},Un,null,[[1,9]])}function Hn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.menu,n=t.params,r.prev=1,r.next=4,Object(ea.b)(wn,a);case 4:return r.next=6,Object(ea.c)(nt());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(rt(r.t0));case 15:case"end":return r.stop()}},Ln,null,[[1,10]])}function qn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Tn,a);case 4:return r.next=6,Object(ea.c)(it());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(ot(r.t0));case 15:case"end":return r.stop()}},Fn,null,[[1,10]])}function zn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Dn,a);case 4:return r.next=6,Object(ea.c)(lt());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(ut(r.t0));case 15:case"end":return r.stop()}},Pn,null,[[1,10]])}function Kn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,n=t.params,r.prev=1,r.next=4,Object(ea.b)(In,a);case 4:return r.next=6,Object(ea.c)(Xe());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)($e(r.t0));case 15:case"end":return r.stop()}},Vn,null,[[1,10]])}function Qn(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.menu,r=t.params,c.prev=1,c.next=4,Object(ea.b)(Nn,a,n);case 4:return c.next=6,Object(ea.c)(et());case 6:return c.next=8,Object(ea.c)(ze(r));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(1),console.error(c.t0),c.next=15,Object(ea.c)(tt(c.t0));case 15:case"end":return c.stop()}},Gn,null,[[1,10]])}function Jn(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.id,r.prev=1,r.next=4,Object(ea.b)(Mn,t);case 4:return a=r.sent,n=a.data,r.next=8,Object(ea.c)(mt(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(pt(r.t0));case 15:case"end":return r.stop()}},Yn,null,[[1,10]])}var Xn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/items",{params:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),$n=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){var a;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.file){e.next=5;break}return e.next=4,da(t.file);case 4:a=e.sent;case 5:return e.abrupt("return",la().post("/api/items/",Object(b.a)({},t,{file:a})));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Zn=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().post("/api/items/insertmany",{data:t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),er=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().delete("/api/items/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),tr=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t,a){var n;return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!a.file){e.next=5;break}return e.next=4,da(a.file);case 4:n=e.sent;case 5:return e.abrupt("return",la().put("/api/items/".concat(t),Object(b.a)({},a,{file:n})));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),ar=sa(function(){var e=Object(ta.a)(Zt.a.mark(function e(t){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",la().get("/api/items/".concat(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),nr=Zt.a.mark(pr),rr=Zt.a.mark(hr),cr=Zt.a.mark(fr),ir=Zt.a.mark(br),or=Zt.a.mark(gr),sr=Zt.a.mark(Or),lr=Zt.a.mark(Er),ur=Zt.a.mark(vr),dr=Zt.a.mark(jr),mr=Zt.a.mark(Cr);function pr(){return Zt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ea.a)([Object(ea.d)("GET_ITEMS",hr)]);case 2:return e.next=4,Object(ea.a)([Object(ea.d)("ADD_ITEM",fr)]);case 4:return e.next=6,Object(ea.a)([Object(ea.d)("ADD_ITEM_1",br)]);case 6:return e.next=8,Object(ea.a)([Object(ea.d)("DELETE_ITEM",Er)]);case 8:return e.next=10,Object(ea.a)([Object(ea.d)("DELETE_ITEM_1",vr)]);case 10:return e.next=12,Object(ea.a)([Object(ea.d)("UPDATE_ITEM",jr)]);case 12:return e.next=14,Object(ea.a)([Object(ea.d)("GET_ITEM",Cr)]);case 14:return e.next=16,Object(ea.a)([Object(ea.d)("ADD_ITEMS",gr)]);case 16:return e.next=18,Object(ea.a)([Object(ea.d)("ADD_ITEMS_1",Or)]);case 18:case"end":return e.stop()}},nr)}function hr(e){var t,a;return Zt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.params,n.prev=1,n.next=4,Object(ea.b)(Xn,t);case 4:return a=n.sent,n.next=7,Object(ea.c)(Ot(a));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),console.error(n.t0),n.next=14,Object(ea.c)(Et(n.t0));case 14:case"end":return n.stop()}},rr,null,[[1,9]])}function fr(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.item,n=t.params,r.prev=1,r.next=4,Object(ea.b)($n,a);case 4:return r.next=6,Object(ea.c)(Tt());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Dt(r.t0));case 15:case"end":return r.stop()}},cr,null,[[1,10]])}function br(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.item,n=t.params,r.prev=1,r.next=4,Object(ea.b)($n,a);case 4:return r.next=6,Object(ea.c)(Nt());case 6:return r.next=8,Object(ea.c)(gt(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Mt(r.t0));case 15:case"end":return r.stop()}},ir,null,[[1,10]])}function gr(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,a=t.items,n=t.params,c.prev=1,!(null==a||a.length<0)){c.next=7;break}return console.error("Empty (Null) items submitted"),"Empty (Null) items submitted",c.next=7,Object(ea.c)(Gt({error:"Empty (Null) items submitted"}));case 7:console.log("items here"),console.log(a),r=0;case 10:if(!(r<a.length)){c.next=16;break}return c.next=13,Object(ea.b)($n,a[r]);case 13:r++,c.next=10;break;case 16:return c.next=18,Object(ea.c)(Vt());case 18:return c.next=20,Object(ea.c)(ze(n));case 20:c.next=27;break;case 22:return c.prev=22,c.t0=c.catch(1),console.error(c.t0),c.next=27,Object(ea.c)(Gt(c.t0));case 27:case"end":return c.stop()}},or,null,[[1,22]])}function Or(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.data,n=t.params,r.prev=1,r.next=4,Object(ea.b)(Zn,a);case 4:return r.next=6,Object(ea.c)(Bt());case 6:return r.next=8,Object(ea.c)(gt(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Wt(r.t0));case 15:case"end":return r.stop()}},sr,null,[[1,10]])}function Er(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,n=t.params,r.prev=1,r.next=4,Object(ea.b)(er,a);case 4:return r.next=6,Object(ea.c)(jt());case 6:return r.next=8,Object(ea.c)(ze(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Ct(r.t0));case 15:case"end":return r.stop()}},lr,null,[[1,10]])}function vr(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,n=t.params,r.prev=1,r.next=4,Object(ea.b)(er,a);case 4:return r.next=6,Object(ea.c)(At());case 6:return r.next=8,Object(ea.c)(gt(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(St(r.t0));case 15:case"end":return r.stop()}},ur,null,[[1,10]])}function jr(e){var t,a,n,r;return Zt.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.item,r=t.params,c.prev=1,c.next=4,Object(ea.b)(tr,a,n);case 4:return c.next=6,Object(ea.c)(_t());case 6:return c.next=8,Object(ea.c)(ze(r));case 8:c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(1),console.error(c.t0),c.next=15,Object(ea.c)(kt(c.t0));case 15:case"end":return c.stop()}},dr,null,[[1,10]])}function Cr(e){var t,a,n;return Zt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.id,r.prev=1,r.next=4,Object(ea.b)(ar,t);case 4:return a=r.sent,n=a.data,r.next=8,Object(ea.c)(Ut(n));case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),console.error(r.t0),r.next=15,Object(ea.c)(Lt(r.t0));case 15:case"end":return r.stop()}},mr,null,[[1,10]])}var yr=v()(),_r=Object(O.a)(),kr=[_r,Object(f.b)(yr)],xr=g.d.apply(void 0,[g.a.apply(void 0,kr)].concat([])),Ar=Object(g.c)(Object(b.a)({},n,{form:j.a,toastr:C.reducer})),Sr=Object(g.e)(Ar,{},xr);_r.run(Oa),_r.run(Ma),_r.run(en),_r.run(jn),_r.run(Bn),_r.run(pr);var wr=Sr,Tr=a(11),Dr=a(12),Ir=a(14),Nr=a(13),Mr=a(15),Rr=a(253),Ur=a(252),Lr=a(121),Fr=a(250),Pr=a(117),Vr=a.n(Pr),Gr=a(20),Yr=a.n(Gr),Br=a(3),Wr=a(251),Hr=a(2),qr=(a(181),function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={username:"",password:""},a.handleLoginClick=a.handleLoginClick.bind(Object(Br.a)(Object(Br.a)(a))),a.change=a.change.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleLoginClick",value:function(){var e=this.state,t=e.username,a=e.password;null!==t&&""!==t?this.props.authActions.login(t,a):C.toastr.error("User name is missing","You must provide your user name")}},{key:"change",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return m.a.createElement("div",{className:"login-form d-flex flex-column align-items-center"},m.a.createElement("div",{className:"h3"},"Please sign in"),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"email"},"Email"),m.a.createElement(Hr.m,{type:"username",name:"username",onChange:this.change})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"password"},"Password"),m.a.createElement(Hr.m,{type:"password",name:"password",id:"password",onChange:this.change})),m.a.createElement(Hr.a,{color:"primary",className:"text-center",onClick:this.handleLoginClick},"Sign in"))}}]),t}(m.a.Component));qr=Object(Wr.a)(qr);var zr=Object(h.connect)(function(e){return Object(b.a)({},e.default.auth)},function(e){return{authActions:Object(g.b)({login:S},e)}})(qr),Kr=(a(182),function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}}},{key:"render",value:function(){return this.props.loading?Yr()({title:"Please wait...",text:"Logging in...",onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),this.props.currentUser?m.a.createElement(Fr.a,{to:{pathname:"/"}}):m.a.createElement("div",{className:"login-scene"},m.a.createElement(zr,null))}}]),t}(m.a.Component)),Qr=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.auth)},null)(Kr),Jr=(a(183),function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleLogoutClick",value:function(e){this.props.authActions.logout()}},{key:"render",value:function(){var e=this,t=this.props.currentUser.name;return m.a.createElement("div",{className:"top-nav"},m.a.createElement(Hr.t,{light:!0,expand:!0,className:"shadow-sm bg-white p-0 h-100"},m.a.createElement(Hr.u,{href:"/"}),m.a.createElement(Hr.s,{className:"ml-auto",navbar:!0},m.a.createElement(Hr.A,{nav:!0,inNavbar:!0},m.a.createElement(Hr.j,{nav:!0,caret:!0},t),m.a.createElement(Hr.i,{right:!0},m.a.createElement(Hr.h,null,m.a.createElement("li",{onClick:function(t){return e.handleLogoutClick(t)}},"Log out")))))))}}]),t}(m.a.Component)),Xr=Object(h.connect)(function(e){return{currentUser:e.default.services.auth.currentUser}},function(e){return{authActions:Object(g.b)({logout:R},e)}})(Jr),$r=a(120),Zr=a(246),ec=(a(199),function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props;return m.a.createElement($r.slide,Object.assign({},e,{menuClassName:"shadow-sm"}),m.a.createElement("ul",{className:"sidebar-menu-container card p-2 list-group list-group-flush text-center d-flex flex-column align-items-start shadow-sm"},m.a.createElement(Zr.a,{activeClassName:"active",to:"/cities",className:"px-1 py-3 list-group-item list-group-item-action d-flex flex-column"},m.a.createElement("i",{className:"fa fa-building"}),m.a.createElement("small",{className:" mt-2"},"Cities")),m.a.createElement(Zr.a,{activeClassName:"active",to:"/categories",className:"px-1 py-3 list-group-item list-group-item-action d-flex flex-column"},m.a.createElement("i",{className:"fa fa-tags"}),m.a.createElement("small",{className:"mt-2"},"Categories")),m.a.createElement(Zr.a,{activeClassName:"active",to:"/restaurants",className:"px-1 py-3 list-group-item list-group-item-action d-flex flex-column"},m.a.createElement("i",{className:"fa fa-coffee"}),m.a.createElement("small",{className:"mt-2"},"Restaurants")),m.a.createElement(Zr.a,{activeClassName:"active",to:"/menus",className:"px-1 py-3 list-group-item list-group-item-action d-flex flex-column"},m.a.createElement("i",{className:"fa fa-cutlery"}),m.a.createElement("small",{className:"mt-2"},"Menu")),m.a.createElement(Zr.a,{activeClassName:"active",to:"/items",className:"px-1 py-3 list-group-item list-group-item-action d-flex flex-column"},m.a.createElement("i",{className:"fa fa-th"}),m.a.createElement("small",{className:"mt-2"},"Items of Menu"))))}}]),t}(m.a.Component)),tc=a(86),ac=a(32),nc=a.n(ac),rc=a(25),cc=a.n(rc),ic=a(129),oc=(a(226),a(9)),sc=a.n(oc);function lc(){}var uc=function(e){function t(e){var a;Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).toggle=function(){var e=a.props.onClick,t=!a.state.checked;a.setChecked(t),e(t)},a.handleKeyDown=function(e){37===e.keyCode?a.setChecked(!1):39===e.keyCode&&a.setChecked(!0)},a.handleMouseUp=function(e){a.node&&a.node.blur(),a.props.onMouseUp&&a.props.onMouseUp(e)},a.saveNode=function(e){a.node=e};var n=!1;return n="checked"in e?!!e.checked:!!e.defaultChecked,a.state={checked:n},a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,a=e.disabled;t&&!a&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){"checked"in e&&this.setState({checked:!!e.checked})}},{key:"setChecked",value:function(e){this.props.disabled||("checked"in this.props||this.setState({checked:e}),this.props.onChange(e))}},{key:"focus",value:function(){this.node.focus()}},{key:"blur",value:function(){this.node.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.prefixCls,r=t.disabled,c=t.loadingIcon,i=t.checkedChildren,o=t.unCheckedChildren,s=Object(ic.a)(t,["className","prefixCls","disabled","loadingIcon","checkedChildren","unCheckedChildren"]),l=this.state.checked,u=sc()((e={},Object(_.a)(e,a,!!a),Object(_.a)(e,n,!0),Object(_.a)(e,"".concat(n,"-checked"),l),Object(_.a)(e,"".concat(n,"-disabled"),r),e));return m.a.createElement("button",Object.assign({},s,{type:"button",role:"switch","aria-checked":l,disabled:r,className:u,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.toggle,onMouseUp:this.handleMouseUp}),c,m.a.createElement("span",{className:"".concat(n,"-inner")},l?i:o))}}]),t}(d.Component);uc.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:lc,onClick:lc};var dc=a(67),mc="image/x-png, image/png, image/jpeg, image/jpg, image/gif",pc=mc.split(",").map(function(e){return e.trim()}),hc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={image:null},a.handleChange=a.handleChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnDrop=a.handleOnDrop.bind(Object(Br.a)(Object(Br.a)(a))),a.handleClearToDefault=a.handleClearToDefault.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleChange",value:function(e){this.setState({file:URL.createObjectURL(e.target.files[0])})}},{key:"verifyFile",value:function(e){if(e&&e.length>0){var t=e[0],a=t.type,n=t.size;return n>1e9?(C.toastr.error("Error","This file is not allowed. ".concat(n," bytes is too large")),!1):!!pc.includes(a)||(C.toastr.error("Error","This file is not allowed. Only images are allowed"),!1)}}},{key:"handleOnDrop",value:function(e,t){if((t&&t.length>0&&this.verifyFile(t),e&&e.length>0)&&this.verifyFile(e)){var a=URL.createObjectURL(e[0]);this.setState({image:a}),this.props.handleOnLoad&&this.props.handleOnLoad(e[0],e[0].type,e[0].name)}}},{key:"handleClearToDefault",value:function(e){e&&e.preventDefault(),this.setState({image:null}),this.props.handleClearToDefault&&this.props.handleClearToDefault()}},{key:"render",value:function(){var e=this.props.style,t=this.state.image;return null===t&&this.props.image&&(t=this.props.image),m.a.createElement(dc.a,{onDrop:this.handleOnDrop,accept:mc,className:this.props.className,style:e},t?m.a.createElement("img",{src:t,alt:"",className:"w-100 h-100",style:{objectFit:"cover",borderTopLeftRadius:18,borderTopRightRadius:18}}):this.props.renderContent?this.props.renderContent:m.a.createElement("div",null))}}]),t}(m.a.Component),fc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).getNumberOfPages=function(){var e=a.props.totalItems/a.props.pageSize,t=parseInt(e,10);return t+=t!==e?1:0},a.paginationItems=function(){var e=[];a.lastPaginationNumber=a.getLastPaginationNumber(),e.push(a.firstOrLastPagItem("First",1)),e.push(a.nextOrPreviousPagItem("Previous",1,"l"));for(var t=a.state.firstPaginationNumber;t<=a.lastPaginationNumber;t++)e.push(a.numberedPagItem(t));return e.push(a.nextOrPreviousPagItem("Next",a.pages,"r")),e.push(a.firstOrLastPagItem("Last",a.pages)),e},a.getLastPaginationNumber=function(){var e=Math.min(a.pages,a.props.maxPaginationNumbers);return a.state.firstPaginationNumber+e-1},a.numberedPagItem=function(e){return m.a.createElement(Hr.w,{key:e,id:"pagebutton".concat(e),active:a.state.activePage===e,onClick:a.handleClick},m.a.createElement(Hr.x,{style:{minWidth:"43.5px"}},e))},a.nextOrPreviousPagItem=function(e,t,n){return m.a.createElement(Hr.w,{key:e,disabled:a.state.activePage===t,onClick:function(e){return a.handleSelectNextOrPrevious(n)}},m.a.createElement(Hr.x,null,e))},a.firstOrLastPagItem=function(e,t){var n={currentTarget:{getAttribute:function(){return"pagebutton".concat(t)}}};return m.a.createElement(Hr.w,{key:e,disabled:a.state.activePage===t,onClick:function(){return a.handleClick(n)}},m.a.createElement(Hr.x,null,e))},a.handleClick=function(e){var t=parseInt(e.currentTarget.getAttribute("id").split("pagebutton").pop(),10);a.setState({activePage:t}),a.handlePaginationNumber(t),a.props.onSelect(t)},a.handleSelectNextOrPrevious=function(e){var t=a.state.activePage;if(!("r"===e&&t===a.pages||"l"===e&&1===t)){var n="r"===e?t+1:t-1;a.setState({activePage:n}),a.handlePaginationNumber(n),a.props.onSelect(n)}},a.handlePaginationNumber=function(e){var t=Math.floor(a.props.maxPaginationNumbers/2),n=e-t,r=e+t;n<=1?1!==a.state.firstPaginationNumber&&a.setState({firstPaginationNumber:1}):r<=a.pages?a.setState({firstPaginationNumber:n}):r>=a.pages&&a.setState({firstPaginationNumber:a.pages-a.props.maxPaginationNumbers+1})},a.state={activePage:1,firstPaginationNumber:1},a.pages=a.getNumberOfPages(),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){return this.pages=this.getNumberOfPages(),m.a.createElement(Hr.v,null,this.paginationItems())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.activePage&&e.activePage!==t.activePage?{activePage:e.activePage}:null}}]),t}(d.Component);fc.defaultProps={maxPaginationNumbers:5};var bc=fc,gc="VIEW_MODE_TILE",Oc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={activePage:1,viewMode:gc},a.filter={},a.renderCategoriesTable=a.renderCategoriesTable.bind(Object(Br.a)(Object(Br.a)(a))),a.renderPagination=a.renderPagination.bind(Object(Br.a)(Object(Br.a)(a))),a.renderFilter=a.renderFilter.bind(Object(Br.a)(Object(Br.a)(a))),a.onAddClick=a.onAddClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onPaginationSelect=a.handleSelected.bind(Object(Br.a)(Object(Br.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onSearchClick=a.onSearchClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onViewModeChange=a.handleViewModeChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onEdit=a.onEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.onDelete=a.handleDelete.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddCategoryFromExcel=a.onClickAddCategoryFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCityCSV=a.onExportCityCSV.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){var e=oa.a.parse(this.props.location.search);e.page&&this.setState({activePage:e.page}),this.props.categoryActions.getCategories(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}if(this.props.success!==e.success&&!0===this.props.success&&C.toastr.success("Success",this.props.message),e.location.search!==this.props.location.search){var a=oa.a.parse(this.props.location.search);a.page&&this.setState({activePage:a.page}),this.props.categoryActions.getCategories(a)}}},{key:"onFilterChange",value:function(e){this.filter=Object(b.a)({},this.filter,Object(_.a)({},e.target.name,e.target.value))}},{key:"onAddClick",value:function(){this.props.modalActions.showModal("ADD_CATEGORY_MODAL")}},{key:"onSearchClick",value:function(){ma(this)}},{key:"handleViewModeChange",value:function(e){this.setState({viewMode:e})}},{key:"handleSelected",value:function(e){var t=oa.a.parse(this.props.location.search);t=Object(b.a)({},t,{page:e});var a=oa.a.stringify(t);this.props.history.push({pathname:this.props.location.pathname,search:"?".concat(a)})}},{key:"onEdit",value:function(e,t){t.stopPropagation(),this.props.modalActions.showModal("EDIT_CATEGORY_MODAL",e)}},{key:"handleDelete",value:function(e,t){var a=this;t.stopPropagation(),Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(t){t.value&&a.props.categoryActions.deleteCategory(e)})}},{key:"onClickAddCategoryFromExcel",value:function(){this.csvUploader.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[6]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.city_id=e[2],t.order=e[3],t.image_url=e[4],t.is_open=e[5],t.action=e[6],c.push(t))}}).on("end",function(){"Category_Id"==c[0].id?(c.splice(0,1),console.log(c),0!==c.length?t.props.categoryActions.addCategories(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for Category data")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e){for(var t=[],a=document.querySelectorAll("table tr"),n=0;n<a.length;n++){var r=[],c=a[n].querySelectorAll("td, th");0===n?r=["Category_Id","Name","City_Id","Order","Image Url","Opened/Closed","Act(i/u/d)"]:(r.push(c[0].attributes[1].value),r.push(c[1].innerText),r.push(c[2].attributes[0].value),r.push(c[4].innerText),c[0].attributes[2]?r.push(c[0].attributes[2].value):r.push(""),"Opened"===c[3].innerText?r.push("1"):r.push("0"),r.push("")),t.push(r.join(","))}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCityCSV",value:function(){this.setState({viewMode:"VIEW_MODE_TABLE"});var e=this;setTimeout(function(){e.exportTableToCSV("Category.csv")},500)}},{key:"renderCategoriesTable",value:function(){var e=this;if(this.props.categories){var t=this.props.categories.data;if(t&&t.length>0){var a=t.map(function(t,a){return m.a.createElement("tr",{key:t.id},m.a.createElement("th",{scope:"row",data_id:t.id,data_image:t.image_url}," ",a+1," "),m.a.createElement("th",null,m.a.createElement(tc.a,{to:{pathname:"/restaurants",search:"?category=".concat(t.id)}},t.name)),m.a.createElement("th",{data_city_id:t.city.id},t.city.name),m.a.createElement("th",null,t.is_open?"Opened":"Closed"),m.a.createElement("th",null,t.order),m.a.createElement("th",null,m.a.createElement(Hr.a,{color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{color:"danger",onClick:function(a){e.onDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"}))))});return m.a.createElement(Hr.y,{striped:!0,bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"City"),m.a.createElement("th",null,"Open/Closed"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,a))}return m.a.createElement("div",null,"No Categories Data to list")}}},{key:"renderCategoriesTile",value:function(){var e=this;if(this.props.categories){var t=this.props.categories.data;return t&&t.length>0?t.map(function(t,a){var n="";return t.is_open||(n="(Closed)"),m.a.createElement("div",{key:a,className:"col-lg-3 col-md-6 col-xs-12 mb-3 d-flex align-items-stretch",onClick:function(){e.props.history.push("/restaurants?category=".concat(t.id))}},m.a.createElement(Hr.b,{className:"text-center w-100"},m.a.createElement(Hr.c,{top:!0,width:"100%",height:"280px",className:"",src:ca.BASE_URL+t.image_url,alt:t.name}),m.a.createElement("div",{className:"normal-tile-overlay"}),m.a.createElement(Hr.d,null,m.a.createElement(Hr.g,{className:"tile-view-card-title"},t.name+n),m.a.createElement(Hr.e,{className:"text-white"},t.city?t.city.name:"N/A"),m.a.createElement(Hr.f,{className:"tile-view-card-id"},t.id),m.a.createElement("div",{className:"card-buttons-hover-show"},m.a.createElement(Hr.a,{size:"sm",color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{size:"sm",color:"danger",onClick:function(a){e.handleDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"}))))))}):m.a.createElement("div",null,"No Categories Data to list")}}},{key:"renderPagination",value:function(){if(this.props.categories&&this.props.categories.meta&&this.props.categories.data&&this.props.categories.data.length>0)return m.a.createElement(bc,{totalItems:this.props.categories.meta.total,pageSize:parseInt(this.props.categories.meta.per_page),onSelect:this.handleSelected,activePage:parseInt(this.state.activePage)})}},{key:"renderFilter",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"default",onClick:this.onAddClick},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add category"),m.a.createElement(Hr.a,{id:"toggle_category",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddCategoryFromExcel},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCityCSV},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Export csv"),m.a.createElement(Hr.a,{onClick:function(){return e.handleViewModeChange(gc)}},m.a.createElement("i",{className:"fa fa-th"})),m.a.createElement(Hr.a,{onClick:function(){return e.handleViewModeChange("VIEW_MODE_TABLE")}},m.a.createElement("i",{className:"fa fa-th-list"})),m.a.createElement(Hr.z,{toggler:"#toggle_category",className:"col-md-8 col-sm-12 mt-5 mb-5"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Category name"),m.a.createElement(Hr.m,{type:"text",name:"category_name",onChange:this.onFilterChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"City name"),m.a.createElement(Hr.m,{type:"text",name:"city_name",onChange:this.onFilterChange})),m.a.createElement(Hr.a,{onClick:this.onSearchClick},m.a.createElement("i",{className:"fa fa-search"}),"Search")))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("h1",{className:"text-center mb-5"},"Categories"),m.a.createElement("div",{className:"mb-3"},this.renderFilter()),m.a.createElement("div",{className:"d-flex flex-column"},"VIEW_MODE_TABLE"===this.state.viewMode?this.renderCategoriesTable():m.a.createElement("div",{className:"row"},this.renderCategoriesTile()),this.renderPagination()))}}]),t}(m.a.Component),Ec=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.category)},function(e){return{categoryActions:Object(g.b)({addCategories:ge,getCategories:ce,deleteCategory:se},e),modalActions:Object(g.b)({showModal:zt},e)}})(Oc),vc=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return m.a.createElement("div",null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"".concat(e,"/"),render:function(e){return m.a.createElement(Ec,e)}})))}}]),t}(m.a.Component),jc="VIEW_MODE_TILE",Cc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={activePage:1,viewMode:jc},a.filter={},a.renderCitiesTable=a.renderCitiesTable.bind(Object(Br.a)(Object(Br.a)(a))),a.renderCitiesTile=a.renderCitiesTile.bind(Object(Br.a)(Object(Br.a)(a))),a.renderFilter=a.renderFilter.bind(Object(Br.a)(Object(Br.a)(a))),a.renderPagination=a.renderPagination.bind(Object(Br.a)(Object(Br.a)(a))),a.onPaginationSelect=a.onPaginationSelect.bind(Object(Br.a)(Object(Br.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onSearchClick=a.onSearchClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onViewModeChange=a.onViewModeChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onDelete=a.onDelete.bind(Object(Br.a)(Object(Br.a)(a))),a.onEdit=a.onEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddCityFromExcel=a.onClickAddCityFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV=a.onExportCSV.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){var e=oa.a.parse(this.props.location.search);e.page&&this.setState({activePage:e.page}),this.props.cityActions.getCities(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}if(this.props.success!==e.success&&!0===this.props.success&&C.toastr.success("Success",this.props.message),e.location.search!==this.props.location.search){var a=oa.a.parse(this.props.location.search);a.page&&(this.setState({activePage:a.page}),this.props.cityActions.getCities(a))}}},{key:"onFilterChange",value:function(e){this.filter=Object(b.a)({},this.filter,Object(_.a)({},e.target.name,e.target.value))}},{key:"onSearchClick",value:function(){ma(this)}},{key:"onViewModeChange",value:function(e){this.setState({viewMode:e})}},{key:"onPaginationSelect",value:function(e){var t=oa.a.parse(this.props.location.search);t=Object(b.a)({},t,{page:e});var a=oa.a.stringify(t);this.props.history.push({pathname:this.props.location.pathname,search:"?".concat(a)})}},{key:"onEdit",value:function(e,t){t.stopPropagation(),this.props.modalActions.showModal("EDIT_CITY_MODAL",e)}},{key:"onDelete",value:function(e,t){var a=this;t.stopPropagation(),Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(t){t.value&&a.props.cityActions.deleteCity(e)})}},{key:"onClickAddCityFromExcel",value:function(){this.csvUploader.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[5]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.order=e[2],t.image_url=e[3],t.is_open=e[4],t.action=e[5],c.push(t))}}).on("end",function(){console.log(c[0]),"City_Id"==c[0].id?(c.splice(0,1),console.log(c),0!==c.length?t.props.cityActions.addCities(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for City data")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e){for(var t=[],a=document.querySelectorAll("table tr"),n=0;n<a.length;n++){var r=[],c=a[n].querySelectorAll("td, th");0===n?r=["City_Id","Name","Order","Image Url","Opened/Closed","Act(i/u/d)"]:(r.push(c[0].attributes[1].value),r.push(c[1].innerText),r.push(c[3].innerText),c[0].attributes[2]?r.push(c[0].attributes[2].value):r.push(""),"Opened"===c[2].innerText?r.push("1"):r.push("0"),r.push("")),t.push(r.join(","))}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCSV",value:function(){this.setState({viewMode:"VIEW_MODE_TABLE"});var e=this;setTimeout(function(){e.exportTableToCSV("City.csv")},500)}},{key:"renderCitiesTable",value:function(){var e=this;if(this.props.cities){var t=this.props.cities.data;if(t&&t.length>0){var a=t.map(function(t,a){return m.a.createElement("tr",{key:t.id},m.a.createElement("th",{scope:"row",data_id:t.id,data_image:t.image_url}," ",a+1," "),m.a.createElement("th",null,m.a.createElement(tc.a,{to:{pathname:"/restaurants",search:"?city=".concat(t.id)}},t.name)),m.a.createElement("th",null,t.is_open?"Opened":"Closed"),m.a.createElement("th",null,t.order),m.a.createElement("th",null,m.a.createElement(Hr.a,{color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{color:"danger",onClick:function(a){e.onDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"}))))});return m.a.createElement("div",null,m.a.createElement(Hr.y,{striped:!0,bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Open"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,a)))}return m.a.createElement("div",null,"No City Data to list")}}},{key:"renderCitiesTile",value:function(){var e=this;if(this.props.cities){var t=this.props.cities.data;return t&&t.length>0?t.map(function(t,a){var n="";t.is_open||(n="(Closed)");var r=t.image_url;return null===t.image_url&&(r="https://loremflickr.com/g/320/240/paris"),null!==t.image_url&&"http"!==t.image_url.substring(0,4)&&(r=ca.BASE_URL+r),m.a.createElement("div",{key:a,className:"col-lg-3 col-md-6 col-xs-12 mb-3 d-flex align-items-stretch",onClick:function(){e.props.history.push("/restaurants?city=".concat(t.id))}},m.a.createElement(Hr.b,{className:"text-center w-100"},m.a.createElement(Hr.c,{top:!0,width:"100%",height:"280px",className:"city-image-tile",src:r,alt:t.name}),m.a.createElement("div",{className:"overlay-color"}),m.a.createElement(Hr.d,null,m.a.createElement(Hr.g,{className:"tile-view-card-title"},t.name+n),m.a.createElement(Hr.f,{className:"tile-view-card-id"},t.id),m.a.createElement("div",{className:"card-buttons-hover-show"},m.a.createElement(Hr.a,{size:"sm",color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{size:"sm",color:"danger",onClick:function(a){e.onDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"}))))))}):m.a.createElement("div",null,"No City Data to list")}}},{key:"renderPagination",value:function(){if(this.props.cities&&this.props.cities.meta&&this.props.cities.data&&this.props.cities.data.length>0)return m.a.createElement(bc,{totalItems:this.props.cities.meta.total,pageSize:parseInt(this.props.cities.meta.per_page),onSelect:this.onPaginationSelect,activePage:parseInt(this.state.activePage)})}},{key:"renderFilter",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"default",onClick:function(){e.props.modalActions.showModal("ADD_CITY_MODAL")}},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add city"),m.a.createElement(Hr.a,{id:"toggle_city",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddCityFromExcel},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCSV},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Export csv"),"\xa0\xa0\xa0\xa0",m.a.createElement(Hr.a,{onClick:function(){return e.onViewModeChange(jc)}},m.a.createElement("i",{className:"fa fa-th"})),m.a.createElement(Hr.a,{onClick:function(){return e.onViewModeChange("VIEW_MODE_TABLE")}},m.a.createElement("i",{className:"fa fa-th-list"})),m.a.createElement(Hr.z,{toggler:"#toggle_city",className:"col-md-8 col-sm-12 mt-5 mb-5"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"City"),m.a.createElement(Hr.m,{type:"text",name:"city_name",onChange:this.onFilterChange})),m.a.createElement(Hr.a,{onClick:this.onSearchClick},m.a.createElement("i",{className:"fa fa-search"}),"Search")))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("h1",{className:"text-center mb-5"},"Cities"),m.a.createElement("div",{className:"mb-3"},this.renderFilter()),m.a.createElement("div",{className:"d-flex flex-column"},"VIEW_MODE_TABLE"===this.state.viewMode?this.renderCitiesTable():m.a.createElement("div",{className:"row"},this.renderCitiesTile()),this.renderPagination()))}}]),t}(m.a.Component);Cc=Object(Wr.a)(Cc);var yc=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.city)},function(e){return{cityActions:Object(g.b)({addCities:J,getCities:F,deleteCity:G},e),modalActions:Object(g.b)({showModal:zt},e)}})(Cc),_c=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return m.a.createElement("div",null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"".concat(e,"/"),render:function(e){return m.a.createElement(yc,e)}})))}}]),t}(m.a.Component),kc=a(45),xc=a.n(kc),Ac="image/x-png, image/png, image/jpeg, image/jpg, image/gif".split(",").map(function(e){return e.trim()}),Sc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={image:null},a.handleChange=a.handleChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnDrop=a.handleOnDrop.bind(Object(Br.a)(Object(Br.a)(a))),a.handleClearToDefault=a.handleClearToDefault.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleChange",value:function(e){this.setState({file:URL.createObjectURL(e.target.files[0])})}},{key:"verifyFile",value:function(e){if(e&&e.length>0){var t=e[0],a=t.type,n=t.size;return n>1e9?(C.toastr.error("Error","This file is not allowed. ".concat(n," bytes is too large")),!1):!!Ac.includes(a)||(C.toastr.error("Error","This file is not allowed. Only images are allowed"),!1)}}},{key:"handleOnDrop",value:function(e,t){if((t&&t.length>0&&this.verifyFile(t),e&&e.length>0)&&this.verifyFile(e)){var a=URL.createObjectURL(e[0]);this.setState({image:a}),this.props.handleOnLoad&&this.props.handleOnLoad(e[0],e[0].type,e[0].name,this.props.menuId,this.props.inputItemIndex)}}},{key:"handleClearToDefault",value:function(e){e&&e.preventDefault(),this.setState({image:null}),this.props.handleClearToDefault&&this.props.handleClearToDefault()}},{key:"render",value:function(){var e=this.props.style,t=this.state.image;return null===t&&this.props.image&&(t=this.props.image),m.a.createElement(dc.a,{onDrop:this.handleOnDrop,accept:"image/x-png, image/png, image/jpeg, image/jpg, image/gif",className:this.props.className,style:e},t?m.a.createElement("img",{src:t,alt:"",className:"w-100 h-100",style:{objectFit:"cover",borderTopLeftRadius:18,borderTopRightRadius:18}}):this.props.renderContent?this.props.renderContent:m.a.createElement("div",null))}}]),t}(m.a.Component),wc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).update_data=Object(b.a)({},e.menu),a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.menu!==e.menu&&(this.update_data={name:this.props.menu.name,id:this.props.menu.id,restaurant_id:this.props.menu.restaurant.id,order:this.props.menu.order})}},{key:"onChange",value:function(e){this.update_data=Object(b.a)({},this.update_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"renderRestaurantOptions",value:function(e){var t=this;if(e)return e.map(function(e,a){return m.a.createElement("option",{key:a,value:e.id,onChange:t.onChange},e.name)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modal,n=t.toggle,r=t.restaurants,c=this.props.menu,i=c.name,o=c.restaurant,s=c.order;return m.a.createElement("div",null,m.a.createElement(Hr.o,{isOpen:a,toggle:n},m.a.createElement(Hr.r,{toggle:n}," Menu Edit "),m.a.createElement(Hr.p,null,m.a.createElement(Hr.k,null,m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"}," Name "),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Menu name here",defaultValue:i,onChange:this.onChange}))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"restaurant"},"Restaurant"),m.a.createElement(Hr.m,{type:"select",name:"restaurant_id",id:"restaurant_id",defaultValue:o?o.id:"",onChange:this.onChange},this.renderRestaurantOptions(r))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",defaultValue:s,onChange:this.onChange}))),m.a.createElement(Hr.q,null,m.a.createElement(Hr.a,{color:"primary",onClick:function(){e.update_data=Object(b.a)({},e.update_data);var t=oa.a.parse(e.props.location.search);e.props.menuActions.updateMenu(e.update_data.id,e.update_data,t),n()}},"Update"),m.a.createElement(Hr.a,{color:"secondary",onClick:function(){n()}},"Cancel"))))}}]),t}(m.a.Component);wc=Object(Wr.a)(wc);var Tc=Object(h.connect)(null,function(e){return{menuActions:Object(g.b)({updateMenu:Ze},e)}})(wc),Dc={position:"relative",height:"50px",minHeight:"50px",maxHeight:"50px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},Ic=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).submitData=[],a.editData=[],a.modal_data={},a.state={modal:!1},a.renderMenuTable=a.renderMenuTable.bind(Object(Br.a)(Object(Br.a)(a))),a.handleEdit=a.handleEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.handleDelete=a.handleDelete.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnLoad=a.handleOnLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnLoadForEdit=a.handleOnLoadForEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.handleEditMenuItem=a.handleEditMenuItem.bind(Object(Br.a)(Object(Br.a)(a))),a.handleDeleteMenuItem=a.handleDeleteMenuItem.bind(Object(Br.a)(Object(Br.a)(a))),a.renderSubmitItems=a.renderSubmitItems.bind(Object(Br.a)(Object(Br.a)(a))),a.addMenuItemInput=a.addMenuItemInput.bind(Object(Br.a)(Object(Br.a)(a))),a.handleUpdateMenuItem=a.handleUpdateMenuItem.bind(Object(Br.a)(Object(Br.a)(a))),a.toggle=a.toggle.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddItemFromExcel=a.onClickAddItemFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV=a.onExportCSV.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.restaurantActions.getRestaurants()}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"handleEdit",value:function(e){this.props.history.push("/menus/".concat(e,"/edit"))}},{key:"handleDelete",value:function(e){var t=this;Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&t.props.menuActions.deleteMenu(e)})}},{key:"handleOnLoad",value:function(e,t,a,n,r){this.submitData[n][r]=Object(b.a)({},this.submitData[n][r],{file:e,file_name:a,file_type:t})}},{key:"handleOnLoadForEdit",value:function(e,t,a,n,r){this.editData[n][r]=Object(b.a)({},this.editData[n][r],{file:e,file_name:a,file_type:t})}},{key:"handleMenuItemSubmit",value:function(e){var t=this.submitData[e],a=oa.a.parse(this.props.location.search);this.props.itemActions.addItems(t,a)}},{key:"handleEditMenuItem",value:function(e,t){t.stopPropagation(),this.props.history.push("/items/".concat(e,"/edit"))}},{key:"handleEditDataChange",value:function(e,t,a){this.editData[e]||(this.editData[e]=[]),this.editData[e][t]||(this.editData[e][t]={}),this.editData[e][t]=Object(b.a)({},this.editData[e][t],a)}},{key:"handleUpdateMenuItem",value:function(e,t){var a=oa.a.parse(this.props.location.search),n={id:t,item:this.editData[e][t],params:a};this.props.itemActions.updateItem(n)}},{key:"handleDeleteMenuItem",value:function(e,t){var a=this;t.stopPropagation(),Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(t){if(t.value){var n=oa.a.parse(a.props.location.search);a.props.itemActions.deleteItem(e,n)}})}},{key:"onClickAddItemFromExcel",value:function(e){localStorage.setItem("current_menu_id",e),this.csvUploader.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};"i"===e[6]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.order=e[2],t.image_url=e[3],t.menu_id=localStorage.getItem("current_menu_id"),t.price=parseFloat(e[5])*ca.INTEGER_PRECISION,t.action=e[6],c.push(t))}}).on("end",function(){console.log(c),0!==c.length?t.props.itemActions.addItems(c,e):C.toastr.warning("Warning","No operations in file")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e,t){var a=[];a.push(["Item_Id","Name","Order","Image Url","Menu_Id","Price","Act(i)"].join(","));for(var n=document.querySelectorAll(".items_menu_"+t),r=0;r<n.length;r++){var c=[],i=n[r].querySelectorAll(".item");c.push(i[0].attributes[1].value),c.push(i[0].innerText),c.push(i[0].attributes[2].value),i[0].attributes[3]?c.push(i[0].attributes[3].value):c.push(""),c.push(t),c.push(i[1].innerText),c.push(""),a.push(c.join(","))}this.downloadCSV(a.join("\n"),e)}},{key:"onExportCSV",value:function(e){var t=this;setTimeout(function(){var a="Items_Menu_"+e+".csv";t.exportTableToCSV(a,e)},500)}},{key:"renderMenuItems",value:function(e){var t=this;return this.editData[e.menu_id]||(this.editData[e.menu_id]=[]),this.editData[e.menu_id][e.id]||(this.editData[e.menu_id][e.id]=Object(b.a)({},e)),m.a.createElement("div",{className:"p-3 border-bottom items_menu_"+e.menu_id,key:e.id},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-4 item",data_id:e.id,data_order:e.order,data_image_url:e.image_url},e.name),m.a.createElement("div",{className:"col-md-4 item"},e.price/ca.INTEGER_PRECISION),m.a.createElement("div",{className:"col-md-4"},m.a.createElement(Hr.a,{size:"sm",color:"warning",id:"toggle_menu_item_edit_".concat(e.menu_id,"_").concat(e.id)},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{size:"sm",color:"danger",onClick:function(a){t.handleDeleteMenuItem(e.id,a)}},m.a.createElement("i",{className:"fa fa-trash"})))),m.a.createElement(Hr.z,{toggler:"toggle_menu_item_edit_".concat(e.menu_id,"_").concat(e.id)},m.a.createElement("div",{className:"row mt-3"},m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",onChange:function(a){t.handleEditDataChange(e.menu_id,e.id,{name:a.target.value})},placeholder:"Name",defaultValue:e.name})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",placeholder:"Price",onChange:function(a){t.handleEditDataChange(e.menu_id,e.id,{price:parseFloat(a.target.value)*ca.INTEGER_PRECISION})},defaultValue:e.price/ca.INTEGER_PRECISION})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",onChange:function(a){t.handleEditDataChange(e.menu_id,e.id,{order:a.target.value})},defaultValue:e.order,placeholder:"Order"})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Sc,{menuId:e.menu_id,inputItemIndex:e.id,style:Dc,image:e.image_url?ca.BASE_URL+e.image_url:"",handleOnLoad:this.handleOnLoadForEdit}))),m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"secondary",onClick:function(){t.handleUpdateMenuItem(e.menu_id,e.id)}},m.a.createElement("i",{className:"fa fa-upload"}," Update")))))}},{key:"addMenuItemInput",value:function(e){this.submitData[e]||(this.submitData[e]=[]);var t={order:1,menu_id:e};1!=this.submitData[e].length&&(this.submitData[e].push(t),this.forceUpdate())}},{key:"renderSubmitItems",value:function(e){var t=this;if(this.submitData[e.id]&&this.submitData[e.id].length>0)return this.submitData[e.id].map(function(a,n){return m.a.createElement("div",{className:"row p-3",key:n},m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",onChange:function(a){t.submitData[e.id][n]=Object(b.a)({},t.submitData[e.id][n],{name:a.target.value})},placeholder:"Name"})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",placeholder:"Price",onChange:function(a){t.submitData[e.id][n]=Object(b.a)({},t.submitData[e.id][n],{price:parseFloat(a.target.value)*ca.INTEGER_PRECISION})}})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Hr.m,{type:"text",onChange:function(a){t.submitData[e.id][n]=Object(b.a)({},t.submitData[e.id][n],{order:a.target.value})},defaultValue:1,placeholder:"Name"})),m.a.createElement("div",{className:"col-md-3"},m.a.createElement(Sc,{menuId:e.id,inputItemIndex:n,style:Dc,handleOnLoad:t.handleOnLoad})))})}},{key:"renderMenuTable",value:function(){var e=this,t=this.props.data;if(t&&t.length>0)return t.sort(function(e,t){var a=e.id,n=t.id;return a<n?-1:a>n?1:0}),t.map(function(t,a){return m.a.createElement(m.a.Fragment,{key:a},m.a.createElement("tr",{id:"toggle_menu_".concat(a),className:"menu-toggle",key:t.id},m.a.createElement("th",{scope:"row",data_id:t.id,data_image_url:t.image_url},a+1," \xa0\xa0\xa0",m.a.createElement("span",{className:"table-view-card-id"}," ",t.id," ")),m.a.createElement("th",null,t.name),m.a.createElement("th",{restaurant_id:t.restaurant.id},t.restaurant.name),m.a.createElement("th",null,t.order),m.a.createElement("th",null,m.a.createElement(Hr.a,{color:"warning",onClick:function(a){a.stopPropagation(),a.preventDefault(),e.modal_data=t,e.toggle()}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{color:"danger",onClick:function(a){e.handleDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"})))),m.a.createElement("tr",null,m.a.createElement("th",{colSpan:5,style:{padding:0}},m.a.createElement(Hr.z,{toggler:"toggle_menu_".concat(a),className:"p-3"},m.a.createElement(Hr.a,{color:"default",onClick:function(){e.addMenuItemInput(t.id)}},m.a.createElement("i",{className:"fa fa-plus"}," Item")),m.a.createElement(Hr.a,{color:"primary",onClick:function(a){return e.handleMenuItemSubmit(t.id,a)}},m.a.createElement("i",{className:"fa fa-check"}," Submit")),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:e.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:function(){e.onClickAddItemFromExcel(t.id)}},"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:function(){e.onExportCSV(t.id)}},"\xa0Export csv"),e.renderSubmitItems(t),m.a.createElement("div",{className:"w-100 border-bottom"}),t.items.map(function(t){return e.renderMenuItems(t)})))))})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),this.props.data&&this.props.data.length>0?m.a.createElement(m.a.Fragment,null,m.a.createElement(Hr.y,{striped:!0,bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"# \xa0\xa0\xa0",m.a.createElement("span",{className:"table-view-card-id"}," (id) ")," "),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Restaurant"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.renderMenuTable())),m.a.createElement(Tc,{modal:this.state.modal,menu:this.modal_data,toggle:this.toggle,restaurants:this.props.restaurant.restaurants?this.props.restaurant.restaurants.data:[]})):m.a.createElement("div",null)}}]),t}(m.a.Component),Nc=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.item,{restaurant:e.default.services.restaurant})},function(e){return{itemActions:Object(g.b)({addItem:wt,deleteItem:vt,addItems:Pt,updateItem:yt,addItems1:Yt},e),menuActions:Object(g.b)({deleteMenu:Je},e),restaurantActions:Object(g.b)({getRestaurants:xe},e)}})(Object(Wr.a)(Ic)),Mc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={activePage:1,restaurant_id:0,menu_id_max:1e5},a.renderMenus=a.renderMenus.bind(Object(Br.a)(Object(Br.a)(a))),a.onAddClick=a.onAddClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onPaginationSelect=a.onPaginationSelect.bind(Object(Br.a)(Object(Br.a)(a))),a.renderPagination=a.renderPagination.bind(Object(Br.a)(Object(Br.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleSearchClick=a.handleSearchClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddMenuFromExcel=a.onClickAddMenuFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile_all=a.onChangeCSVFile_all.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV=a.onExportCSV.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddMenuFromExcel_all=a.onClickAddMenuFromExcel_all.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV_all=a.onExportCSV_all.bind(Object(Br.a)(Object(Br.a)(a))),a.onQRCodeClick=a.onQRCodeClick.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentWillMount",value:function(){var e=oa.a.parse(this.props.location.search);e.page&&this.setState({activePage:e.page}),this.props.menuActions.getMenus(e);var t=this.props.location.search;""!=t&&this.setState({restaurant_id:t.split("=")[1]});var a=this;xc.a.post(ca.BASE_URL+"/api/menus/max_menu_id",function(e){a.setState({menu_id_max:e})})}},{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}if(this.props.success!==e.success&&!0===this.props.success&&C.toastr.success("Success",this.props.message),e.location.search!==this.props.location.search){var a=oa.a.parse(this.props.location.search);a.page&&this.setState({activePage:a.page}),this.props.menuActions.getMenus(a)}var n=this.props.location.search,r=0;""!=n&&n.indexOf("restaurant=")>=0&&(r=parseInt(n.split("=")[1])),r!=this.state.restaurant_id&&this.setState({restaurant_id:r})}},{key:"onFilterChange",value:function(e){this.filter=Object(b.a)({},this.filter,Object(_.a)({},e.target.name,e.target.value))}},{key:"onAddClick",value:function(){this.props.modalActions.showModal("MENU_ADD_MODAL")}},{key:"onQRCodeClick",value:function(){this.props.modalActions.showModal("QRCODE",this.state.restaurant_id)}},{key:"handleSearchClick",value:function(){ma(this)}},{key:"onPaginationSelect",value:function(e){var t=oa.a.parse(this.props.location.search);t=Object(b.a)({},t,{page:e});var a=oa.a.stringify(t);this.props.history.push({pathname:this.props.location.pathname,search:"?".concat(a)})}},{key:"onClickAddMenuFromExcel",value:function(){this.csvUploader.click()}},{key:"onClickAddMenuFromExcel_all",value:function(){this.csvUploader_all.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[5]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.restaurant_id=e[2],t.order=e[3],t.image_url=e[4],t.action=e[5],c.push(t))}}).on("end",function(){"Menu_Id"==c[0].id?(c.splice(0,1),console.log(c),0!==c.length?t.props.menuActions.addMenus(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for Menu data")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"onChangeCSVFile_all",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[6]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.order=e[2],t.image_url=e[3],"#"!==e[4]?t.price=parseFloat(e[4])*ca.INTEGER_PRECISION:t.price="#",t.parent_id=e[5],t.action=e[6],c.push(t))}}).on("end",function(){"Menus_Items"==c[0].id?(c.splice(0,1),c.splice(0,1),0!==c.length?t.props.menuActions.addMenusItems(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for menus and items")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e){var t=[],a=document.querySelectorAll("table tr.menu-toggle");t.push(["Menu_Id","Name","Restaurant_Id","Order","Image Url","Act(i/u/d)"].join(","));for(var n=0;n<a.length;n++){var r=[],c=a[n].querySelectorAll("td, th");r.push(c[0].attributes[1].value),r.push(c[1].innerText),r.push(c[2].attributes[0].value),r.push(c[3].innerText),void 0!==c[0].attributes[2]?r.push(c[0].attributes[2].value):r.push(""),r.push(""),t.push(r.join(","))}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCSV",value:function(){var e=this;setTimeout(function(){e.exportTableToCSV("Menu.csv")},500)}},{key:"exportTableToCSV_all",value:function(e){var t=[];t.push(["Menus_Items","Restaurant_Id =",this.state.restaurant_id.toString(),"#####","menu id >=",parseInt(this.state.menu_id_max)+1,"#####"]);var a=document.querySelectorAll("table tr.menu-toggle"),n=document.querySelectorAll("table tr");t.push(["-- Id --","-- Name --","-- Order --","--- Image Url ---","-- Price --","-- Parent_Id --","-- Act(i/u/d) --"].join(","));for(var r=0;r<a.length;r++){var c=[],i=a[r].querySelectorAll("td, th"),o=i[0].attributes[1].value;c.push(o+"-menu"),c.push(i[1].innerText),c.push(i[3].innerText),void 0!==i[0].attributes[2]?c.push(i[0].attributes[2].value):c.push(""),c.push("#"),c.push(this.state.restaurant_id),c.push(""),t.push(c.join(","));for(var s=n[2*(r+1)].querySelectorAll("th div .border-bottom .row"),l=0;l<s.length;l+=2){var u=[],d=s[l].querySelectorAll(".item");u.push(d[0].attributes[1].value),u.push(d[0].innerText),u.push(d[0].attributes[2].value),void 0!==d[0].attributes[3]?u.push(d[0].attributes[3].value):u.push(""),u.push(d[1].innerText),u.push(o),u.push(""),t.push(u.join(","))}}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCSV_all",value:function(){var e=this;setTimeout(function(){e.exportTableToCSV_all("Menus_Items.csv")},500)}},{key:"renderMenus",value:function(){if(this.props.menus){var e=this.props.menus.data;return e&&e.length>0?m.a.createElement(Nc,{data:e,from:this.props.menus.meta?this.props.menus.meta.from:""}):m.a.createElement("div",null,"No Menu data to list")}}},{key:"renderPagination",value:function(){if(this.props.menus&&this.props.menus.meta&&this.props.menus.data&&this.props.menus.data.length>0)return m.a.createElement(bc,{totalItems:this.props.menus.meta.total,pageSize:parseInt(this.props.menus.meta.per_page),onSelect:this.onPaginationSelect,activePage:parseInt(this.state.activePage)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.message;return a?Yr()({title:"Please wait...",text:n,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("h1",{className:"text-center mb-5"},"Menus"),m.a.createElement("div",{className:"mb-3"},0===this.state.restaurant_id?m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"default",onClick:this.onAddClick},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add menu"),m.a.createElement(Hr.a,{id:"toggle_menu",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddMenuFromExcel},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCSV},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Export csv")):m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"default",onClick:this.onAddClick},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add menu"),m.a.createElement(Hr.a,{id:"toggle_menu",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile_all,ref:function(t){e.csvUploader_all=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddMenuFromExcel_all},"\xa0Import all of a restaurant"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCSV_all},"\xa0Export all of a restaurant"),m.a.createElement(Hr.a,{color:"default",onClick:this.onQRCodeClick},"\xa0QR Code"))),m.a.createElement(Hr.z,{toggler:"#toggle_menu",className:"col-md-8 col-sm-12 mt-5 mb-5"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Menu"),m.a.createElement(Hr.m,{type:"text",name:"menu_name",onChange:this.onFilterChange})),m.a.createElement(Hr.a,{onClick:this.handleSearchClick},m.a.createElement("i",{className:"fa fa-search"}),"Search")),m.a.createElement("div",{className:"d-flex flex-column"},this.renderMenus(),this.renderPagination()))}}]),t}(m.a.Component),Rc=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.menu)},function(e){return{menuActions:Object(g.b)({getMenus:ze,addMenus:ct,addMenusItems:st},e),modalActions:Object(g.b)({showModal:zt},e)}})(Mc),Uc=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return m.a.createElement("div",null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"".concat(e,"/"),render:function(e){return m.a.createElement(Rc,e)}})))}}]),t}(m.a.Component),Lc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={name:"",order:1,price:0,menu_id:a.props.menu.menus?a.props.menu.menus.data[0].id:""},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnLoad=a.handleOnLoad.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.menuActions.getMenus()}},{key:"componentDidUpdate",value:function(e){if(this.props.item.error!==e.item.error&&null!==this.props.item.error){var t=ua(this.props.item.error);C.toastr.error(t.title,t.message)}if(this.props.menu.error!==e.menu.error&&null!==this.props.menu.error){var a=ua(this.props.menu.error);C.toastr.error(a.title,a.message)}this.props.item.success!==e.item.success&&!0===this.props.item.success&&C.toastr.success("Success",this.props.item.message)}},{key:"onChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"handleOnLoad",value:function(e,t,a){this.setState({file:e,file_type:t,file_name:a})}},{key:"handleSubmit",value:function(){if(""!==this.state.name){var e={name:this.state.name,price:parseFloat(this.state.price)*ca.INTEGER_PRECISION,menu_id:this.state.menu_id,file:this.state.file,order:this.state.order,file_type:this.state.file_type,file_name:this.state.file_name};this.props.itemActions.addItem(e)}else C.toastr.error("Error","Category name can not be an empty value")}},{key:"renderMenuOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name+" (".concat(e.restaurant.name,")"))})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("strong",null,"Item Add"),m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Item"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Item name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"price"},"Price"),m.a.createElement(Hr.m,{type:"text",name:"price",id:"price",placeholder:"",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"menu_id"},"Menu"),m.a.createElement(Hr.m,{type:"select",name:"menu_id",id:"menu_id",onChange:this.onChange},this.renderMenuOptions(this.props.menu.menus))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",defaultValue:1,placeholder:"Order",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"60%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.handleOnLoad})),m.a.createElement(Hr.a,{color:"primary",onClick:this.handleSubmit,className:"float-right"},"Submit")))}}]),t}(m.a.Component),Fc=Object(h.connect)(function(e){return{item:Object(b.a)({},e.default.services.item),menu:Object(b.a)({},e.default.services.menu)}},function(e){return{itemActions:Object(g.b)({addItem:wt},e),menuActions:Object(g.b)({getMenus:ze},e)}})(Lc),Pc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={file:null,file_type:"",file_name:""},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Br.a)(Object(Br.a)(a))),a.handleOnLoad=a.handleOnLoad.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.itemActions.getItem(this.props.match.params.id),this.props.menuActions.getMenus()}},{key:"componentDidUpdate",value:function(e){if(this.props.item.error!==e.item.error&&null!==this.props.item.error){var t=ua(this.props.item.error);C.toastr.error(t.title,t.message)}if(this.props.menu.error!==e.menu.error&&null!==this.props.menu.error){var a=ua(this.props.menu.error);C.toastr.error(a.title,a.message)}this.props.item.success!==e.item.success&&!0===this.props.item.success&&C.toastr.success("Success",this.props.item.message)}},{key:"onChange",value:function(e){var t=this.props.item.currentItem;switch(e.target.name){case"menu":var a=this.props.menu.menus.data.find(function(t){return t.id==e.target.value});t=Object(b.a)({},t,{menu:a});break;case"price":t=Object(b.a)({},t,Object(_.a)({},e.target.name,e.target.value*ca.INTEGER_PRECISION));break;default:t=Object(b.a)({},t,Object(_.a)({},e.target.name,e.target.value))}this.props.itemActions.updateCurrentItem(t)}},{key:"handleSubmit",value:function(){if(this.props.item.currentItem){if(""===this.props.item.currentItem.name)return void C.toastr.error("Error","Category name can not be an empty value")}else C.toastr.error("Error","Something went wrong");var e={name:this.props.item.currentItem.name,id:this.props.item.currentItem.id,menu_id:this.props.item.currentItem.menu.id,price:this.props.item.currentItem.price,order:this.props.item.currentItem.order,file:this.state.file,file_type:this.state.file_type,file_name:this.state.file_name},t={id:this.props.match.params.id,item:e};this.props.itemActions.updateItem(Object(b.a)({},t))}},{key:"handleOnLoad",value:function(e,t,a){this.setState({file:e,file_type:t,file_name:a})}},{key:"renderMenuOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{key:t,value:e.id},e.name)})}},{key:"render",value:function(){var e=this.props.item,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("strong",null,"Item Update"),m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Item Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Item name here",onChange:this.onChange,value:this.props.item.currentItem?this.props.item.currentItem.name:""})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"price"},"Price"),m.a.createElement(Hr.m,{type:"text",name:"price",id:"price",placeholder:"",onChange:this.onChange,value:this.props.item.currentItem?this.props.item.currentItem.price/ca.INTEGER_PRECISION:"0"})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"menu"},"Menu"),m.a.createElement(Hr.m,{type:"select",name:"menu",id:"menu",value:this.props.item.currentItem?this.props.item.currentItem.menu.id:"",onChange:this.onChange},this.renderMenuOptions(this.props.menu.menus))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",onChange:this.onChange,value:this.props.item.currentItem?this.props.item.currentItem.order:""})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"60%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.handleOnLoad,image:this.props.item.currentItem?ca.BASE_URL+this.props.item.currentItem.image_url:""})),m.a.createElement(Hr.a,{color:"primary",onClick:this.handleSubmit,className:"float-right"},"Submit")))}}]),t}(m.a.Component),Vc=Object(h.connect)(function(e){return{item:Object(b.a)({},e.default.services.item),menu:Object(b.a)({},e.default.services.menu)}},function(e){return{itemActions:Object(g.b)({updateItem:yt,updateCurrentItem:Ft,getItem:Rt},e),menuActions:Object(g.b)({getMenus:ze},e)}})(Pc),Gc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).renderItemTable=a.renderItemTable.bind(Object(Br.a)(Object(Br.a)(a))),a.handleEdit=a.handleEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.handleDelete=a.handleDelete.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleEdit",value:function(e){this.props.history.push("/items/".concat(e,"/edit"))}},{key:"handleDelete",value:function(e){var t=this;Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&t.props.itemActions.deleteItem1(e)})}},{key:"renderItemTable",value:function(){var e=this,t=this.props.data;if(t&&t.length>0)return t.map(function(t,a){return m.a.createElement("tr",{key:t.id},m.a.createElement("th",{scope:"row",data_id:t.id,data_image_url:t.image_url}," ",a+1," "),m.a.createElement("th",null,t.name),m.a.createElement("th",null,t.price/ca.INTEGER_PRECISION),m.a.createElement("th",{data_menu_id:t.menu.id},t.menu.name),m.a.createElement("th",null,t.order),m.a.createElement("th",null,m.a.createElement(Hr.a,{color:"warning",onClick:function(){e.handleEdit(t.id)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{color:"danger",onClick:function(){e.handleDelete(t.id)}},m.a.createElement("i",{className:"fa fa-trash"}))))})}},{key:"render",value:function(){return this.props.data&&this.props.data.length>0?m.a.createElement(Hr.y,{striped:!0,bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Price"),m.a.createElement("th",null,"Menu"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.renderItemTable())):m.a.createElement("div",null)}}]),t}(m.a.Component),Yc=Object(h.connect)(null,function(e){return{itemActions:Object(g.b)({deleteItem1:xt},e)}})(Object(Wr.a)(Gc)),Bc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={activePage:1},a.renderItems=a.renderItems.bind(Object(Br.a)(Object(Br.a)(a))),a.onAddClick=a.onAddClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onPaginationSelect=a.onPaginationSelect.bind(Object(Br.a)(Object(Br.a)(a))),a.renderPagination=a.renderPagination.bind(Object(Br.a)(Object(Br.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(Br.a)(Object(Br.a)(a))),a.handleSearchClick=a.handleSearchClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddItemFromExcel=a.onClickAddItemFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV=a.onExportCSV.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentWillMount",value:function(){var e=oa.a.parse(this.props.location.search);e.page&&this.setState({activePage:e.page}),this.props.itemActions.getItems(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}if(this.props.success!==e.success&&!0===this.props.success&&C.toastr.success("Success",this.props.message),e.location.search!==this.props.location.search){var a=oa.a.parse(this.props.location.search);a.page&&this.setState({activePage:a.page}),this.props.itemActions.getItems(a)}}},{key:"onFilterChange",value:function(e){this.filter=Object(b.a)({},this.filter,Object(_.a)({},e.target.name,e.target.value))}},{key:"onAddClick",value:function(){this.props.modalActions.showModal("ITEM_ADD_MODAL")}},{key:"handleSearchClick",value:function(){ma(this)}},{key:"onPaginationSelect",value:function(e){var t=oa.a.parse(this.props.location.search);t=Object(b.a)({},t,{page:e});var a=oa.a.stringify(t);this.props.history.push({pathname:this.props.location.pathname,search:"?".concat(a)})}},{key:"onClickAddItemFromExcel",value:function(){this.csvUploader.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[6]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],t.order=e[2],t.image_url=e[3],t.menu_id=e[4],t.price=parseFloat(e[5])*ca.INTEGER_PRECISION,t.action=e[6],c.push(t))}}).on("end",function(){"Item_Id"==c[0].id?(c.splice(0,1),console.log(c),0!==c.length?t.props.itemActions.addItems1(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for Item data")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e){for(var t=[],a=document.querySelectorAll("table tr"),n=0;n<a.length;n++){var r=[],c=a[n].querySelectorAll("td, th");0===n?r=["Item_Id","Name","Order","Image Url","Menu_Id","Price","Act(i/u/d)"]:(r.push(c[0].attributes[1].value),r.push(c[1].innerText),r.push(c[4].innerText),c[0].attributes[2]?r.push(c[0].attributes[2].value):r.push(""),r.push(c[3].attributes[0].value),r.push(c[2].innerText),r.push("")),t.push(r.join(","))}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCSV",value:function(){var e=this;setTimeout(function(){e.exportTableToCSV("Item.csv")},500)}},{key:"renderItems",value:function(){if(this.props.items){var e=this.props.items.data;return e&&e.length>0?m.a.createElement(Yc,{data:e,from:this.props.items.meta?this.props.items.meta.from:""}):m.a.createElement("div",null,"No Menu data to list")}}},{key:"renderPagination",value:function(){if(this.props.items&&this.props.items.meta&&this.props.items.data&&this.props.items.data.length>0)return m.a.createElement(bc,{totalItems:this.props.items.meta.total,pageSize:parseInt(this.props.items.meta.per_page),onSelect:this.onPaginationSelect,activePage:parseInt(this.state.activePage)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.message;return a?Yr()({title:"Please wait...",text:n,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("h1",{className:"text-center mb-5"},"Items"),m.a.createElement("div",{className:"mb-3"},m.a.createElement(Hr.a,{color:"default",onClick:this.onAddClick},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add item"),m.a.createElement(Hr.a,{id:"toggler",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddItemFromExcel},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCSV},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Export csv")),m.a.createElement(Hr.z,{toggler:"#toggler",className:"col-md-8 col-sm-12 mt-5 mb-5"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Item"),m.a.createElement(Hr.m,{type:"text",name:"item_name",onChange:this.onFilterChange})),m.a.createElement(Hr.a,{onClick:this.handleSearchClick},m.a.createElement("i",{className:"fa fa-search"}),"Search")),m.a.createElement("div",{className:"d-flex flex-column"},this.renderItems(),this.renderPagination()))}}]),t}(m.a.Component),Wc=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.item)},function(e){return{itemActions:Object(g.b)({getItems:gt,addItems1:Yt},e),modalActions:Object(g.b)({showModal:zt},e)}})(Bc),Hc=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return m.a.createElement("div",null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"".concat(e,"/add"),render:function(e){return m.a.createElement(Fc,e)}}),m.a.createElement(Lr.a,{path:"".concat(e,"/:id/edit"),render:function(e){return m.a.createElement(Vc,e)}}),m.a.createElement(Lr.a,{path:"".concat(e,"/"),render:function(e){return m.a.createElement(Wc,e)}})))}}]),t}(m.a.Component),qc="VIEW_MODE_TILE",zc=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={activePage:1,viewMode:qc},a.renderRestaurantsTable=a.renderRestaurantsTable.bind(Object(Br.a)(Object(Br.a)(a))),a.renderPagination=a.renderPagination.bind(Object(Br.a)(Object(Br.a)(a))),a.renderFilter=a.renderFilter.bind(Object(Br.a)(Object(Br.a)(a))),a.onAddClick=a.onAddClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onPaginationSelect=a.onPaginationSelect.bind(Object(Br.a)(Object(Br.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onSearchClick=a.onSearchClick.bind(Object(Br.a)(Object(Br.a)(a))),a.onViewModeChange=a.onViewModeChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onEdit=a.onEdit.bind(Object(Br.a)(Object(Br.a)(a))),a.onDelete=a.onDelete.bind(Object(Br.a)(Object(Br.a)(a))),a.onQRCode=a.onQRCode.bind(Object(Br.a)(Object(Br.a)(a))),a.onClickAddRestaurantFromExcel=a.onClickAddRestaurantFromExcel.bind(Object(Br.a)(Object(Br.a)(a))),a.onChangeCSVFile=a.onChangeCSVFile.bind(Object(Br.a)(Object(Br.a)(a))),a.onExportCSV=a.onExportCSV.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){var e=oa.a.parse(this.props.location.search);e.page&&this.setState({activePage:e.page}),this.props.restaurantActions.getRestaurants(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.error!==e.error&&null!==this.props.error){var t=ua(this.props.error);C.toastr.error(t.title,t.message)}if(this.props.success!==e.success&&!0===this.props.success&&C.toastr.success("Success",this.props.message),e.location.search!==this.props.location.search){var a=oa.a.parse(this.props.location.search);a.page&&this.setState({activePage:a.page}),this.props.restaurantActions.getRestaurants(a)}}},{key:"onFilterChange",value:function(e){this.filter=Object(b.a)({},this.filter,Object(_.a)({},e.target.name,e.target.value))}},{key:"onAddClick",value:function(){this.props.modalActions.showModal("RESTAURANT_ADD_MODAL")}},{key:"onSearchClick",value:function(){ma(this)}},{key:"onViewModeChange",value:function(e){this.setState({viewMode:e})}},{key:"onEdit",value:function(e,t){t.stopPropagation(),this.props.modalActions.showModal("RESTAURANT_EDIT_MODAL",e)}},{key:"onDelete",value:function(e,t){var a=this;t.stopPropagation(),Yr()({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(t){t.value&&a.props.restaurantActions.deleteRestaurant(e)})}},{key:"onQRCode",value:function(e,t){t.stopPropagation(),this.props.modalActions.showModal("QRCODE",e)}},{key:"onPaginationSelect",value:function(e){var t=oa.a.parse(this.props.location.search);t=Object(b.a)({},t,{page:e});var a=oa.a.stringify(t);this.props.history.push({pathname:this.props.location.pathname,search:"?".concat(a)})}},{key:"onClickAddRestaurantFromExcel",value:function(){this.csvUploader.click()}},{key:"onChangeCSVFile",value:function(e){var t=this,a=e.target.files[0];if(void 0!==a){console.log(a);var n=a.name;if(".csv"===n.substr(n.length-4,4)){var r=new FileReader,c=[];r.onload=function(){var e=oa.a.parse(t.props.location.search);nc()(r.result,{}).on("readable",function(){for(var e;e=this.read();){var t={};""!==e[6]&&(t.created_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.updated_at=cc()().format("YYYY-MM-DD HH:mm:ss"),t.id=e[0],t.name=e[1],""===e[2]?t.category=[]:t.category=e[2].split(";"),t.order=e[3],t.image_url=e[4],t.is_open=e[5],t.action=e[6],c.push(t),console.log(t))}}).on("end",function(){"Restaurant_Id"==c[0].id?(c.splice(0,1),console.log(c),0!==c.length?t.props.restaurantActions.addRestaurants(c,e):C.toastr.warning("Warning","No operations in file")):C.toastr.warning("Warning","Please select file for Restaurant data")})},r.readAsText(a,"UTF-8")}else C.toastr.warning("Warning","Please select .csv file")}}},{key:"downloadCSV",value:function(e,t){var a,n;a=new Blob(["\ufeff"+e],{type:"text/csv;charset=UTF-8"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}},{key:"exportTableToCSV",value:function(e){for(var t=[],a=document.querySelectorAll("table tr"),n=0;n<a.length;n++){var r=[],c=a[n].querySelectorAll("td, th");0===n?r=["Restaurant_Id","Name","CategoryIds","Order","Image Url","Opened/Closed","Act(i/u/d)"]:(r.push(c[0].attributes[1].value),r.push(c[1].innerText),r.push(c[2].attributes[0].value),r.push(c[4].innerHTML),c[0].attributes[2]?r.push(c[0].attributes[2].value):r.push(""),"Opened"===c[3].innerText?r.push("1"):r.push("0"),r.push("")),t.push(r.join(","))}this.downloadCSV(t.join("\n"),e)}},{key:"onExportCSV",value:function(){this.setState({viewMode:"VIEW_MODE_TABLE"});var e=this;setTimeout(function(){e.exportTableToCSV("Restaurant.csv")},500)}},{key:"renderRestaurantsTable",value:function(){var e=this;if(this.props.restaurants){var t=this.props.restaurants.data;if(console.log(t),t&&t.length>0){var a=t.map(function(t,a){var n=[],r=[];t.categories&&(n=t.categories.map(function(e){return e.name}),r=t.categories.map(function(e){return e.id}));var c=n.join(", "),i=r.join(";");return m.a.createElement("tr",{key:t.id},m.a.createElement("th",{scope:"row",data_id:t.id,data_image_url:t.image_url}," ",a+1," "),m.a.createElement("th",null,m.a.createElement("a",{href:"#",onClick:function(){window.location.href="/menus?restaurant=".concat(t.id)}},t.name)),m.a.createElement("th",{data_category_ids:i},c," "),m.a.createElement("th",null,t.is_open?"Opened":"Closed"),m.a.createElement("th",null,t.order),m.a.createElement("th",null,m.a.createElement(Hr.a,{color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{color:"danger",onClick:function(a){e.onDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"})),m.a.createElement(Hr.a,{color:"primary",onClick:function(a){e.onQRCode(t.id,a)}},m.a.createElement("i",{className:"fa fa-qrcode"}))))});return m.a.createElement(Hr.y,{striped:!0,bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Categories"),m.a.createElement("th",null,"Open/Closed"),m.a.createElement("th",null,"Order"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,a))}return m.a.createElement("div",null,"No restaurant data to list")}}},{key:"renderRestaurantsTile",value:function(){var e=this;if(this.props.restaurants){var t=this.props.restaurants.data;return t&&t.length>0?t.map(function(t,a){var n="";return t.is_open||(n="(Closed)"),m.a.createElement("div",{key:a,className:"col-lg-3 col-md-6 col-xs-12 mb-3 d-flex align-items-stretch",onClick:function(){window.location.href="/menus?restaurant=".concat(t.id)}},m.a.createElement(Hr.b,{className:"text-center w-100"},m.a.createElement(Hr.c,{top:!0,width:"100%",height:"280px",className:"",src:ca.BASE_URL+t.image_url,alt:t.name}),m.a.createElement("div",{className:"normal-tile-overlay"}),m.a.createElement(Hr.d,null,m.a.createElement(Hr.g,{className:"tile-view-card-title"},t.name+n),m.a.createElement(Hr.f,{className:"tile-view-card-id"},t.id),m.a.createElement("div",{className:"card-buttons-hover-show"},m.a.createElement(Hr.a,{size:"sm",color:"warning",onClick:function(a){e.onEdit(t,a)}},m.a.createElement("i",{className:"fa fa-edit"})),m.a.createElement(Hr.a,{size:"sm",color:"danger",onClick:function(a){e.onDelete(t.id,a)}},m.a.createElement("i",{className:"fa fa-trash"})),m.a.createElement(Hr.a,{size:"sm",color:"primary",onClick:function(a){e.onQRCode(t.id,a)}},m.a.createElement("i",{className:"fa fa-qrcode"}))))))}):m.a.createElement("div",null,"No restaurant data to list")}}},{key:"renderPagination",value:function(){if(this.props.restaurants&&this.props.restaurants.meta&&this.props.restaurants.data&&this.props.restaurants.data.length>0)return m.a.createElement(bc,{totalItems:this.props.restaurants.meta.total,pageSize:parseInt(this.props.restaurants.meta.per_page),onSelect:this.onPaginationSelect,activePage:parseInt(this.state.activePage)})}},{key:"renderFilter",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(Hr.a,{color:"default",onClick:this.onAddClick},m.a.createElement("i",{className:"fa fa-plus"}),"\xa0Add restaurant"),m.a.createElement(Hr.a,{id:"toggle_restaurant",color:"warning"},"Open filter\xa0",m.a.createElement("i",{className:"fa fa-filter"})),m.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeCSVFile,onClick:function(e){return e.target.value=null},ref:function(t){e.csvUploader=t}}),m.a.createElement(Hr.a,{color:"default",onClick:this.onClickAddRestaurantFromExcel},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Add from CSV"),m.a.createElement(Hr.a,{color:"default",onClick:this.onExportCSV},m.a.createElement("i",{className:"fa fa-file-excel-o"}),"\xa0Export csv"),"\xa0\xa0\xa0\xa0",m.a.createElement(Hr.a,{onClick:function(){return e.onViewModeChange(qc)}},m.a.createElement("i",{className:"fa fa-th"})),m.a.createElement(Hr.a,{onClick:function(){return e.onViewModeChange("VIEW_MODE_TABLE")}},m.a.createElement("i",{className:"fa fa-th-list"})),m.a.createElement(Hr.z,{toggler:"#toggle_restaurant",className:"col-md-8 col-sm-12 mt-5 mb-5"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Restaurant"),m.a.createElement(Hr.m,{type:"text",name:"restaurant_name",onChange:this.onFilterChange})),m.a.createElement(Hr.a,{onClick:this.onSearchClick},m.a.createElement("i",{className:"fa fa-search"}),"Search")))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.message;return t?Yr()({title:"Please wait...",text:a,onOpen:function(){Yr.a.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}):Yr.a.close(),m.a.createElement("div",null,m.a.createElement("h1",{className:"text-center mb-5"},"Restaurants"),m.a.createElement("div",{className:"mb-3"},this.renderFilter()),m.a.createElement("div",{className:"d-flex flex-column"},"VIEW_MODE_TABLE"===this.state.viewMode?this.renderRestaurantsTable():m.a.createElement("div",{className:"row"},this.renderRestaurantsTile()),this.renderPagination()))}}]),t}(m.a.Component),Kc=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.restaurant)},function(e){return{restaurantActions:Object(g.b)({addRestaurants:Fe,getRestaurants:xe,deleteRestaurant:we},e),modalActions:Object(g.b)({showModal:zt},e)}})(zc),Qc=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return m.a.createElement("div",null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"".concat(e,"/"),render:function(e){return m.a.createElement(Kc,e)}})))}}]),t}(m.a.Component),Jc=function(e){return e.default.services.auth},Xc=(a(227),function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"render",value:function(){return this.props.auth.currentUser?("/"===this.props.location.pathname&&(window.location.href="/cities"),m.a.createElement("div",{id:"home",className:"home-container"},m.a.createElement(Xr,null),m.a.createElement(ec,Object.assign({},this.props,{pageWrapId:"page-wrap",outerContainerId:"home"})),m.a.createElement("div",{className:"container-fluid scenes-container"},m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"/cities",render:function(e){return m.a.createElement(_c,e)}}),m.a.createElement(Lr.a,{path:"/categories",render:function(e){return m.a.createElement(vc,e)}}),m.a.createElement(Lr.a,{path:"/menus",render:function(e){return m.a.createElement(Uc,e)}}),m.a.createElement(Lr.a,{path:"/items",render:function(e){return m.a.createElement(Hc,e)}}),m.a.createElement(Lr.a,{path:"/restaurants",render:function(e){return m.a.createElement(Qc,e)}}))))):m.a.createElement(Fr.a,{to:{pathname:"/login"}})}}]),t}(m.a.Component)),$c=Object(h.connect)(function(e){return{auth:Jc(e)}},null)(Xc),Zc=(a(228),function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"handleClick",value:function(){this.props.history.push("/dashboard")}},{key:"render",value:function(){return m.a.createElement("div",{className:"page404 d-flex align-items-center justify-content-center flex-column"},m.a.createElement("div",{className:"text-muted display-1"},"404"),m.a.createElement("div",{className:"h4"},"Oops! This Page Could Not Be Found"),m.a.createElement(Hr.a,{onClick:this.handleClick,color:"primary"},"GO TO HOMEPAGE"))}}]),t}(m.a.Component)),ei=a(29),ti=a.n(ei),ai=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).hideModal=a.hideModal.bind(Object(Br.a)(Object(Br.a)(a))),a.onOk=a.onOk.bind(Object(Br.a)(Object(Br.a)(a))),a.onCancel=a.onCancel.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"hideModal",value:function(){this.props.modalActions.hideModal()}},{key:"onOk",value:function(){this.props.onOk(),this.hideModal()}},{key:"onCancel",value:function(){this.props.onCancel(),this.hideModal()}},{key:"render",value:function(){return m.a.createElement(Hr.o,{isOpen:!0,toggle:this.hideModal,className:"modal-dialog-centered"},m.a.createElement(Hr.r,null," ",this.props.title," "),m.a.createElement(Hr.p,null,this.props.children),m.a.createElement(Hr.q,null,m.a.createElement(Hr.a,{color:"primary",onClick:this.onOk},this.props.okText),m.a.createElement(Hr.a,{color:"secondary",onClick:this.onCancel},this.props.cancelText)))}}]),t}(m.a.Component);ai.defaultProps={okText:"Yes",cancelText:"Cancel",title:"Modal Title",onOk:function(){},onCancel:function(){}};var ni=Object(h.connect)(null,function(e){return{modalActions:Object(g.b)({hideModal:Kt},e)}})(ai),ri=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={is_open:1},a.submit_data={order:1},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"onChange",value:function(e){this.submit_data=Object(b.a)({},this.submit_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.submit_data=Object(b.a)({},this.submit_data,{file:e,file_type:t,file_name:a})}},{key:"render",value:function(){var e=this;return m.a.createElement(ni,{title:"Add city",onOk:function(){var t=oa.a.parse(e.props.location.search);e.submit_data=Object(b.a)({},e.submit_data,{is_open:e.state.is_open}),e.props.cityActions.addCity(e.submit_data,t)},okText:"Submit"},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"City name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",defaultValue:1,onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad}))))}}]),t}(m.a.Component);ri=Object(Wr.a)(ri);var ci=Object(h.connect)(null,function(e){return{cityActions:Object(g.b)({addCity:z},e)}})(ri),ii=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).update_data=Object(b.a)({},e.modal.params),a.state={is_open:e.modal.params.is_open},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"onChange",value:function(e){this.update_data=Object(b.a)({},this.update_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.update_data=Object(b.a)({},this.update_data,{file:e,file_type:t,file_name:a})}},{key:"render",value:function(){var e=this,t=this.props.modal.params;return m.a.createElement(ni,{title:"Update city",onOk:function(){var t=oa.a.parse(e.props.location.search);e.update_data=Object(b.a)({},e.update_data,{is_open:e.state.is_open}),e.props.cityActions.updateCity(e.update_data.id,e.update_data,t)},okText:"Update"},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"City name here",defaultValue:t.name,onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",defaultValue:t.order,onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad,image:ca.BASE_URL+this.props.modal.params.image_url}))))}}]),t}(m.a.Component);ii=Object(Wr.a)(ii);var oi=Object(h.connect)(function(e){return Object(b.a)({},e.default.services.city)},function(e){return{cityActions:Object(g.b)({updateCity:W},e)}})(ii),si=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={is_open:1},a.submit_data={order:1},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.renderCityOptions=a.renderCityOptions.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.cityActions.getCities()}},{key:"componentDidUpdate",value:function(e){this.props.city!==e.city&&this.props.city&&this.props.city.cities&&this.props.city.cities.data&&(this.submit_data=Object(b.a)({},this.submit_data,{city_id:this.props.city.cities.data[0].id}))}},{key:"onChange",value:function(e){this.submit_data=Object(b.a)({},this.submit_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.submit_data=Object(b.a)({},this.submit_data,{file:e,file_type:t,file_name:a})}},{key:"renderCityOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"render",value:function(){var e=this;return m.a.createElement(ni,{title:"Add category",okText:"Submit",onOk:function(){var t=oa.a.parse(e.props.location.search);e.submit_data=Object(b.a)({},e.submit_data,{is_open:e.state.is_open}),e.props.categoryActions.addCategory(e.submit_data,t)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Category name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"city"},"City"),m.a.createElement(Hr.m,{type:"select",name:"city_id",id:"city_id",onChange:this.onChange},this.renderCityOptions(this.props.city.cities))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",defaultValue:1,onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad}))))}}]),t}(m.a.Component);si=Object(Wr.a)(si);var li=Object(h.connect)(function(e){return{city:Object(b.a)({},e.default.services.city)}},function(e){return{cityActions:Object(g.b)({getCities:F},e),categoryActions:Object(g.b)({addCategory:he},e)}})(si),ui=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).update_data=Object(b.a)({},e.modal.params,{city_id:e.modal.params.city.id}),a.state={is_open:e.modal.params.is_open},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.renderCityOptions=a.renderCityOptions.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.cityActions.getCities()}},{key:"onChange",value:function(e){this.update_data=Object(b.a)({},this.update_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.update_data=Object(b.a)({},this.update_data,{file:e,file_type:t,file_name:a})}},{key:"renderCityOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"render",value:function(){var e=this,t=this.props.modal.params;return m.a.createElement(ni,{title:"Update category",okText:"Update",onOk:function(){var t=oa.a.parse(e.props.location.search);e.update_data=Object(b.a)({},e.update_data,{is_open:e.state.is_open}),e.props.categoryActions.updateCategory(e.update_data.id,e.update_data,t)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Category name here",onChange:this.onChange,defaultValue:t.name})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"city"},"City"),m.a.createElement(Hr.m,{type:"select",name:"city_id",id:"city_id",onChange:this.onChange,defaultValue:t.city.id},this.renderCityOptions(this.props.city.cities))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",onChange:this.onChange,defaultValue:t.order})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,null,"Image"),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad,image:ca.BASE_URL+t.image_url}))))}}]),t}(m.a.Component);ui=Object(Wr.a)(ui);var di=Object(h.connect)(function(e){return{city:Object(b.a)({},e.default.services.city)}},function(e){return{cityActions:Object(g.b)({getCities:F},e),categoryActions:Object(g.b)({updateCategory:de},e)}})(ui),mi=a(52),pi=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={is_open:1,category:[]},a.submit_data={order:1},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.onCategoryChange=a.onCategoryChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onCityChange=a.onCityChange.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.cityActions.getCities(),this.props.categoryActions.getCategories()}},{key:"onChange",value:function(e){this.submit_data=Object(b.a)({},this.submit_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.submit_data=Object(b.a)({},this.submit_data,{file:e,file_type:t,file_name:a})}},{key:"onCategoryChange",value:function(e){this.setState({category:e})}},{key:"onCityChange",value:function(e){-1!=e.target.value?this.props.categoryActions.getCategories({city:e.target.value}):this.props.categoryActions.getCategories()}},{key:"renderCategoryOptions",value:function(e){if(e&&e.data){var t=e.data.map(function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.city.name,")")}});return m.a.createElement(mi.a,{options:t,isMulti:!0,onChange:this.onCategoryChange})}}},{key:"renderCityOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"render",value:function(){var e=this;return m.a.createElement(ni,{title:"Restaurant add",okText:"Submit",onOk:function(){var t=e.state.category.map(function(e){return e.value}),a=oa.a.parse(e.props.location.search),n={name:e.submit_data.name,order:e.submit_data.order,file:e.submit_data.file,file_type:e.submit_data.file_type,file_name:e.submit_data.file_name,is_open:e.state.is_open,category:t};e.props.restaurantActions.addRestaurant(n,a)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"}," Name "),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Restaurant name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"city_id"},"City"),m.a.createElement(Hr.m,{type:"select",name:"city_id",id:"city_id",onChange:this.onCityChange},m.a.createElement("option",{value:"-1"}," No select "),this.renderCityOptions(this.props.city.cities))),m.a.createElement(Hr.n,{for:"category"},"Category"),this.renderCategoryOptions(this.props.category.categories),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",defaultValue:1,onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad})))}}]),t}(m.a.Component);pi=Object(Wr.a)(pi);var hi=Object(h.connect)(function(e){return{category:Object(b.a)({},e.default.services.category),city:Object(b.a)({},e.default.services.city)}},function(e){return{restaurantActions:Object(g.b)({addRestaurant:Re},e),categoryActions:Object(g.b)({getCategories:ce},e),cityActions:Object(g.b)({getCities:F},e)}})(pi),fi=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).update_data=Object(b.a)({},e.modal.params),a.state={is_open:e.modal.params.is_open},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.onCategoryChange=a.onCategoryChange.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.categoryActions.getCategories()}},{key:"onChange",value:function(e){this.update_data=Object(b.a)({},this.update_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.update_data=Object(b.a)({},this.update_data,{file:e,file_type:t,file_name:a})}},{key:"onCategoryChange",value:function(e){var t=e.map(function(e){return{id:e.value,name:e.label}});this.update_data=Object(b.a)({},this.update_data,{categories:t}),this.forceUpdate()}},{key:"renderCategoryOptions",value:function(e){if(e&&e.data){var t=e.data.map(function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.city.name,")")}}),a=[];return this.update_data.categories&&(a=this.update_data.categories.map(function(e){return{value:e.id,label:e.name}})),m.a.createElement(mi.a,{options:t,isMulti:!0,onChange:this.onCategoryChange,value:a})}}},{key:"render",value:function(){var e=this,t=this.props.modal.params;return m.a.createElement(ni,{title:"Update restaurant",okText:"Update",onOk:function(){var t=oa.a.parse(e.props.location.search),a=e.update_data.categories.map(function(e){return e.id});e.update_data=Object(b.a)({},e.update_data,{is_open:e.state.is_open,category:a}),e.props.restaurantActions.updateRestaurant(e.update_data.id,e.update_data,t)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Restaurant name here",onChange:this.onChange,defaultValue:t.name})),m.a.createElement(Hr.n,{for:"category"},"Category"),this.renderCategoryOptions(this.props.category.categories),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",onChange:this.onChange,defaultValue:t.order})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"is_open"},"Open/Closed"),m.a.createElement("div",null,m.a.createElement(ti.a,{id:"is_open",onClick:function(){e.setState({is_open:~~!e.state.is_open})},on:!!this.state.is_open}))),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad,image:ca.BASE_URL+this.props.modal.params.image_url})))}}]),t}(m.a.Component);fi=Object(Wr.a)(fi);var bi=Object(h.connect)(function(e){return{category:e.default.services.category}},function(e){return{categoryActions:Object(g.b)({getCategories:ce},e),restaurantActions:Object(g.b)({updateRestaurant:Ie},e)}})(fi),gi=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).submit_data={order:1},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onCategoryChange=a.onCategoryChange.bind(Object(Br.a)(Object(Br.a)(a))),a.renderRestaurantOptions=a.renderRestaurantOptions.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.categoryActions.getCategories(),this.props.restaurantActions.getRestaurants()}},{key:"componentDidUpdate",value:function(e){this.props.restaurant!==e.restaurant&&this.props.restaurant&&this.props.restaurant.restaurants&&this.props.restaurant.restaurants.data&&(this.submit_data=Object(b.a)({},this.submit_data,{restaurant_id:this.props.restaurant.restaurants.data[0]?this.props.restaurant.restaurants.data[0].id:null}))}},{key:"onChange",value:function(e){this.submit_data=Object(b.a)({},this.submit_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.submit_data=Object(b.a)({},this.submit_data,{file:e,file_type:t,file_name:a})}},{key:"onCategoryChange",value:function(e){-1!=e.target.value?this.props.restaurantActions.getRestaurants({category:e.target.value}):this.props.restaurantActions.getRestaurants()}},{key:"renderRestaurantOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"renderCategoryOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"render",value:function(){var e=this;return m.a.createElement(ni,{title:"Add category",okText:"Submit",onOk:function(){var t=oa.a.parse(e.props.location.search);e.props.menuActions.addMenu(e.submit_data,t)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"},"Name"),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Menu name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"category_id"},"Category"),m.a.createElement(Hr.m,{type:"select",name:"category_id",id:"category_id",onChange:this.onCategoryChange},m.a.createElement("option",{value:"-1"}," No select "),this.renderCategoryOptions(this.props.category.categories))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"restaurant_id"},"Restaurant"),m.a.createElement(Hr.m,{type:"select",name:"restaurant_id",id:"restaurant_id",onChange:this.onChange},this.renderRestaurantOptions(this.props.restaurant.restaurants))),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",defaultValue:1,onChange:this.onChange}))))}}]),t}(m.a.Component);gi=Object(Wr.a)(gi);var Oi=Object(h.connect)(function(e){return{restaurant:Object(b.a)({},e.default.services.restaurant),category:Object(b.a)({},e.default.services.category)}},function(e){return{categoryActions:Object(g.b)({getCategories:ce},e),restaurantActions:Object(g.b)({getRestaurants:xe},e),menuActions:Object(g.b)({addMenu:at},e)}})(gi),Ei=function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={},a.submit_data={order:1},a.onChange=a.onChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onLoad=a.onLoad.bind(Object(Br.a)(Object(Br.a)(a))),a.onMenuChange=a.onMenuChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onRestaurantChange=a.onRestaurantChange.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){this.props.restaurantActions.getRestaurants(),this.props.menuActions.getMenus()}},{key:"onChange",value:function(e){this.submit_data=Object(b.a)({},this.submit_data,Object(_.a)({},e.target.name,e.target.value))}},{key:"onLoad",value:function(e,t,a){this.submit_data=Object(b.a)({},this.submit_data,{file:e,file_type:t,file_name:a})}},{key:"onMenuChange",value:function(e){this.setState({menu:e})}},{key:"onRestaurantChange",value:function(e){-1!=e.target.value?this.props.menuActions.getMenus({restaurant:e.target.value}):this.props.menuActions.getMenus()}},{key:"onMenuOptions",value:function(e){if(e&&e.data){var t=e.data.map(function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.restaurant.name,")")}});return m.a.createElement(mi.a,{options:t,onChange:this.onMenuChange})}}},{key:"renderRestaurantOptions",value:function(e){if(null!==e)return e.data.map(function(e,t){return m.a.createElement("option",{value:e.id,key:t},e.name)})}},{key:"render",value:function(){var e=this;return m.a.createElement(ni,{title:"Item add",okText:"Submit",onOk:function(){var t=oa.a.parse(e.props.location.search),a={name:e.submit_data.name,menu_id:e.state.menu.value,price:parseFloat(e.submit_data.price)*ca.INTEGER_PRECISION,order:e.submit_data.order,file:e.submit_data.file,file_type:e.submit_data.file_type,file_name:e.submit_data.file_name};e.props.itemActions.addItem1(a,t)}},m.a.createElement(Hr.k,{className:"mt-3"},m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"name"}," Name "),m.a.createElement(Hr.m,{type:"text",name:"name",id:"name",placeholder:"Item name here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"restaurant_id"},"Restaurant"),m.a.createElement(Hr.m,{type:"select",name:"restaurant_id",id:"restaurant_id",onChange:this.onRestaurantChange},m.a.createElement("option",{value:"-1"}," No select "),this.renderRestaurantOptions(this.props.restaurant.restaurants))),m.a.createElement(Hr.n,{for:"menu"},"Menu"),this.onMenuOptions(this.props.menu.menus),"\xa0\xa0",m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"price"}," Price "),m.a.createElement(Hr.m,{type:"text",name:"price",id:"price",placeholder:"Item price here",onChange:this.onChange})),m.a.createElement(Hr.l,null,m.a.createElement(Hr.n,{for:"order"},"Order"),m.a.createElement(Hr.m,{type:"text",name:"order",id:"order",placeholder:"Order",defaultValue:1,onChange:this.onChange})),m.a.createElement(hc,{style:{position:"relative",width:"100%",height:"auto",minHeight:"300px",borderWidth:"2px",borderColor:"rgb(102, 102, 102)",borderStyle:"dashed",borderRadius:"5px"},handleOnLoad:this.onLoad})))}}]),t}(m.a.Component);Ei=Object(Wr.a)(Ei);var vi=Object(h.connect)(function(e){return{menu:Object(b.a)({},e.default.services.menu),restaurant:Object(b.a)({},e.default.services.restaurant)}},function(e){return{itemActions:Object(g.b)({addItem1:It},e),menuActions:Object(g.b)({getMenus:ze},e),restaurantActions:Object(g.b)({getRestaurants:xe},e)}})(Ei),ji=a(126),Ci=a.n(ji),yi=(a(237),function(e){function t(e){var a;return Object(Tr.a)(this,t),(a=Object(Ir.a)(this,Object(Nr.a)(t).call(this,e))).state={is_open:1,restaurant_id:a.props.modal.params,info:""},a.hideModal=a.hideModal.bind(Object(Br.a)(Object(Br.a)(a))),a.onGenerate=a.onGenerate.bind(Object(Br.a)(Object(Br.a)(a))),a.onDownload=a.onDownload.bind(Object(Br.a)(Object(Br.a)(a))),a.onStateChange=a.onStateChange.bind(Object(Br.a)(Object(Br.a)(a))),a.onCancel=a.onCancel.bind(Object(Br.a)(Object(Br.a)(a))),a}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentDidMount",value:function(){var e=this;xc.a.post(ca.BASE_URL+"/api/qrcode",{restaurant_id:this.state.restaurant_id},function(t){(t=JSON.parse(t).data).length>0&&(xc()("#qrcode_image").attr("src",ca.BASE_URL+"/"+t[0].image_url),e.setState({is_open:t[0].status}))})}},{key:"hideModal",value:function(){this.props.modalActions.hideModal()}},{key:"onChangeInfo",value:function(e){this.setState({info:e.target.value})}},{key:"onStateChange",value:function(){this.setState({is_open:~~!this.state.is_open}),xc.a.post(ca.BASE_URL+"/api/set_qrcode_status",{restaurant_id:this.state.restaurant_id,status:~~!this.state.is_open},function(e){console.log(e)})}},{key:"onGenerate",value:function(){xc.a.post(ca.BASE_URL+"/api/qrcode_generate",{restaurant_id:this.state.restaurant_id,info:this.state.info},function(e){var t=e;xc()("#qrcode_image").attr("src",ca.BASE_URL+"/"+t)})}},{key:"onDownload",value:function(){window.open(ca.BASE_URL+"/api/qrcode_download?restaurant_id="+this.state.restaurant_id)}},{key:"onCancel",value:function(){this.hideModal()}},{key:"render",value:function(){var e=this;return m.a.createElement(Hr.o,{isOpen:!0,toggle:this.hideModal,className:"modal-dialog-centered"},m.a.createElement(Hr.r,null," QRCode "),m.a.createElement(Hr.p,null,m.a.createElement(Hr.k,null,m.a.createElement(Hr.l,null,m.a.createElement(Hr.m,{type:"text",name:"info",id:"info",placeholder:"Type simple information",value:this.state.info,onChange:function(t){return e.onChangeInfo(t)}})),m.a.createElement(Hr.l,{className:"text-center"},m.a.createElement("img",{src:Ci.a,width:"300",height:"300",id:"qrcode_image"})),m.a.createElement("a",{href:"http://localhost:8000/storage/qrcode/1_1559358180.png",download:!0}))),m.a.createElement(Hr.q,null,m.a.createElement(ti.a,{id:"is_open",onClick:this.onStateChange,on:!!this.state.is_open}),m.a.createElement(Hr.a,{color:"primary",onClick:this.onGenerate},"Generate"),m.a.createElement(Hr.a,{color:"primary",onClick:this.onDownload},"Download"),m.a.createElement(Hr.a,{color:"default",onClick:this.onCancel},"Cancel")))}}]),t}(m.a.Component)),_i=Object(h.connect)(null,function(e){return{modalActions:Object(g.b)({hideModal:Kt},e)}})(yi),ki=Object(h.connect)(function(e){return{modal:Object(b.a)({},e.default.modal)}},null)(function(e){switch(e.modal.modalType){case"ADD_CITY_MODAL":return m.a.createElement(ci,e);case"EDIT_CITY_MODAL":return m.a.createElement(oi,e);case"ADD_CATEGORY_MODAL":return m.a.createElement(li,e);case"EDIT_CATEGORY_MODAL":return m.a.createElement(di,e);case"RESTAURANT_ADD_MODAL":return m.a.createElement(hi,e);case"RESTAURANT_EDIT_MODAL":return m.a.createElement(bi,e);case"MENU_ADD_MODAL":return m.a.createElement(Oi,e);case"ITEM_ADD_MODAL":return m.a.createElement(vi,e);case"QRCODE":return m.a.createElement(_i,e);default:return null}}),xi=function(e){function t(){return Object(Tr.a)(this,t),Object(Ir.a)(this,Object(Nr.a)(t).apply(this,arguments))}return Object(Mr.a)(t,e),Object(Dr.a)(t,[{key:"componentWillMount",value:function(){this.props.authActions.getStoredUser()}},{key:"componentDidMount",value:function(){Vr.a.init({offset:100,duration:700,easing:"ease-in-out-sine",delay:100})}},{key:"render",value:function(){return m.a.createElement("main",null,m.a.createElement(Rr.a,null,m.a.createElement(Ur.a,null,m.a.createElement(Lr.a,{path:"/login",exact:!0,render:function(e){return m.a.createElement(Qr,e)}}),m.a.createElement(Lr.a,{path:"/404",exact:!0,render:function(e){return m.a.createElement(Zc,e)}}),m.a.createElement(Lr.a,{path:"/",render:function(e){return m.a.createElement($c,e)}}),m.a.createElement(Fr.a,{to:"/404"}))),m.a.createElement(y.a,{position:"bottom-left"}),m.a.createElement(ki,null))}}]),t}(m.a.Component),Ai=Object(h.connect)(function(e){return{auth:e.default.auth}},function(e){return{authActions:Object(g.b)({getStoredUser:D},e)}})(xi),Si=(a(238),a(239),a(240),a(241),a(242),a(243),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function wi(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ti=document.querySelector("#root");Object(p.render)(m.a.createElement(h.Provider,{store:wr},m.a.createElement(f.a,{history:yr},m.a.createElement(Ai,null))),Ti),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Si?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):wi(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):wi(e)})}}()}},[[131,1,2]]]);
//# sourceMappingURL=main.2d5f1459.chunk.js.map